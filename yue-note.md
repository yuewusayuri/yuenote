# 2023

## 11

### 11-25 

##### 1.å­¦ä¹ linuxè£¸æœºå¼€å‘ï¼šRTCä¸i2c

##### 2.åœ¨macos windowsä¸Šçš„clion å’ŒcubeIDE workspaceå…¨ä½“å°†ä¾‹ç¨‹æºç ä¸­openocdçš„stlinkf1xæ·»åŠ å›½äº§mcué€‰é¡¹ï¼ˆåœ¨openocdåŸè·¯å¾„ä¸­ï¼‰ã€‚

â€‹	æ–¹æ³•ï¼šæ‰¾åˆ°openocdå®‰è£…ç›®å½•ï¼Œåœ¨target/ä¸‹æ‰¾åˆ°stlinkf1x.cfgï¼Œä¿®æ”¹0x1Bxxxä¸º0x2Bxx

##### 3.åœ¨macos windowsä¸Šçš„clion å’ŒcubeIDE workspaceå…¨ä½“å°†8266IOTå‡çº§ä¸ºver2.0ç‰ˆæœ¬

##### ï¼ˆå¸¦PWMæ§åˆ¶ç¯äº®åº¦ï¼‰ã€‚

â€‹	3.1macOSç§»æ¤winè¾ƒä¸ºå›°éš¾ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š
â€‹			3.1.1å·¥ç¨‹ç›®å½•æœ‰è®¸å¤šmacosç”Ÿæˆçš„"._"å¼€å¤´çš„æ–‡ä»¶ï¼Œéœ€è¦å°†å…¶ä¸€ä¸€åˆ é™¤ã€‚å°†Cmakelistçš„ç¼–è¯‘å™¨è·¯å¾„æ›¿æ¢ï¼Œè¿›å…¥clionè®¾ç½®debugä¸ºæ†ç»‘çš„GDB
â€‹			3.1.2winç§»æ¤macosç®€å•ï¼Œåªéœ€è¦å°†å·¥ç¨‹æ–‡ä»¶æ‹·è´ï¼Œå°†åŸé¡¹ç›®çš„Cmakelistæ›¿æ¢å³å¯ï¼ˆåŸå› æ˜¯arm-none-eabi-gccè·¯å¾„ä¸ä¸€ï¼‰
â€‹					ï¼ˆè¿˜éœ€æ³¨æ„IncludePATHå’ŒFileçš„è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œä¸€èˆ¬ä¸ä¼šæ”¹å˜ï¼‰

æ‰€ä»¥ï¼š<u>å»ºè®®ä»¥åç§»æ¤å·¥ç¨‹ç»Ÿä¸€åœ¨windowsç«¯è¿›è¡Œï¼Œä¹‹åå†æ›¿æ¢CmakeListï¼Œç§»æ¤åˆ°macOSå³å¯ï¼ï¼</u>	

##### 4.å°†ç”¨æˆ·çš„æ±Ÿç§‘å¤§å­¦ä¹ ä¾‹ç¨‹ï¼ˆæˆªè‡³åˆ°RTCï¼‰ä»macOSç§»æ¤åˆ°winçš„Clion

##### 5.åˆæ­¥å­¦ä¹ äº†Source Insightçš„ç”¨æ³•ï¼Œåˆæ­¥å­¦ä¹ äº†CubeMXç”ŸæˆMakefileï¼Œå¹¶ä¸”ç¼–è¯‘çš„æ–¹æ³•

Makefileä¸­æ–‡ä»¶è·¯å¾„å’ŒåŒ…å«è·¯å¾„éœ€è¦è‡ªå·±è®¾ç½®åˆ°User/ç›®å½•ä¸‹ï¼Œå¹¶ä¸”ä¸èƒ½æ··åˆï¼Œå¿…é¡»åˆ†ä¸ºIncå’ŒSrcä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼ï¼
macOSå’ŒWinï¼Œå·¥ç¨‹æ–‡ä»¶çš„åŒæ­¥å®‰æ’ï¼šä¸»è¦åœ¨Windowsï¼Œæ¬¡è¦åœ¨macOSï¼ŒmacOSå°½é‡åªç”¨æ¥è¯»æ–‡æ¡£å’ŒæŸ¥èµ„æ–™

##### 6.éªŒè¯äº†ASRPROçš„åŠŸèƒ½ï¼Œåˆæ­¥å®Œæˆè¯­éŸ³æ§åˆ¶WS2812ç¯çš„é¢œè‰²

### 11-26

##### 1.ä½¿ç”¨æ¨¡æ‹Ÿå¼€å…³æ–¹æ¡ˆå®ç°è‡ªç”±åˆ‡æ¢åŒç«¯æ§åˆ¶

##### 2.å¥½ç”¨çš„è¿˜æ˜¯SU03-Tå’ŒASRPROï¼ŒHilinkçš„V20ç›´æ¥PASS

##### 3.CADæ¨¡æ‹Ÿå¼€å…³åˆ‡æ¢æ–¹æ¡ˆéªŒè¯é€šè¿‡ï¼Œå™¨ä»¶é€‰å‹å®Œæ¯•

|     ææ–™     |      é€‰å‹      | æ•°é‡ |   å¤‡æ³¨   |
| :----------: | :------------: | :--: | :------: |
|     MCU      |     AIR001     |  1   |   åœ¨åº“   |
|   è¯­éŸ³æ¨¡å—   |     ASRPRO     |  1   | å†ä¹°ä¸¤ä¸ª |
|  å……æ”¾ç”µç®¡ç†  | ETA9740/IP5306 |  1   |  å¾…é€‰å‹  |
| ç”µæºæ§åˆ¶ç®¡ç† |    SAM8108     |  1   |          |
|     ç¯ç      |     WS2812     |  32  |          |
|    é”‚ç”µæ±     | 505060-2000mAh |  1   |          |

### 11.27

##### 1.é€‰å‹å®Œæ¯•

##### 2.ç»˜åˆ¶äº†PCBï¼Œä½†æœªè¿çº¿



### 11.28

##### 1.PCBç»˜åˆ¶å®Œæ¯•ï¼Œå·²å‘æ‰“æ ·+æ­£é¢SMTï¼ˆæ²‰é‡‘åˆ¸æ†ç»‘ï¼‰



### 11.29

##### 1.ç ”ç©¶äº†STC-ISPæ­é…STCè‡ªåŠ¨ä¸‹è½½å™¨å®ç°è‡ªåŠ¨ä¸‹è½½STCå•ç‰‡æœºçš„æ–¹æ³•

éœ€è¦åœ¨â€æ”¶åˆ°ç”¨æˆ·å‘½ä»¤åå¤ä½åˆ°ISPç›‘æ§ç¨‹åºåŒºâ€œä¸­ï¼Œé€‰æ‹©ä¸ºUSB-CDCä¸²å£æ¨¡å¼ï¼Œå¹¶âˆšä¸Šä½¿ç”¨é»˜è®¤çš„å†…éƒ¨è‡ªå®šä¹‰å‘½ä»¤""@STCISP"ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹æ–¹çš„â€œå‘é€ç”¨æˆ·è‡ªå®šä¹‰å‘½ä»¤å¼€å§‹ä¸‹è½½â€



### 11.30

##### 1.å°è¯•äº†MSP430 FFTæ˜¾ç¤ºé¢‘è°±çš„ä¾‹ç¨‹ï¼Œä½¿ç”¨äº†DSPåº“

## 12

### 12.1

##### 1.ç–¯ç‹‚çœ‹MyGOï¼ŒçœŸTMå¥½çœ‹ï¼

##### 2.ä½¿ç”¨SU-03Tï¼Œå°†AIé«˜æ¾ç¯ç”Ÿæˆçš„è¯­éŸ³é€šè¿‡è‡ªå®šä¹‰è¯­éŸ³å¯¼å…¥ï¼Œå®ç°äº†å°ç¯å°ç¯ï¼ˆè¿«çœŸï¼‰

HuggingFaceè€å´©ï¼Œå»ºè®®ä½¿ç”¨ç¿»è¯‘æ•ˆæœè¾ƒå¥½çš„ChatGPTç¿»è¯‘ä¸ºæ—¥è¯­ï¼Œå†ä»¥æ®µè½ä¸ºå½¢å¼å¯¼å…¥AIè¯­éŸ³ç”Ÿæˆç•Œé¢ä¸­ï¼ˆä½†äº‹åéœ€è¦è‡ªå·±åˆ‡ç‰‡ï¼‰
ç½‘ç»œé€šç•…çš„æƒ…å†µä¸‹å¯ä»¥ç›´æ¥ä»¥çŸ­å¥ç”Ÿæˆã€‚æœ€åå‘½ä¸Šä¸å†…å®¹ç¬¦åˆçš„æ ‡é¢˜ï¼Œå¯¼å…¥æ™ºèƒ½å…¬å…ƒâ€œè‡ªå®šä¹‰è¯­éŸ³â€ç•Œé¢ä¸‹ï¼Œå†å°†åŸæœ‰è¯­éŸ³ä¸€ä¸€å¯¹åº”èµ·æ¥ã€‚
ä½¿ç”¨è‡ªå®šä¹‰è¯­éŸ³ï¼ˆé»˜è®¤éŸ³é‡ï¼‰ä¼šå‡ºç°å–‡å­ç ´éŸ³/å¤±çœŸç­‰ç°è±¡ï¼Œéœ€è¦æ·»åŠ å¢å¤§éŸ³é‡/å‡å°éŸ³é‡å‘½ä»¤ï¼ˆæ”¹å˜ç³»ç»Ÿè®¾ç½®ï¼‰ï¼Œä¸Šç”µæ‰‹ï¼ˆå˜´ï¼‰åŠ¨è°ƒå°éŸ³é‡ï¼ˆæˆ–è®¸è¿˜æœ‰å…¶ä»–è‡ªåŠ¨è°ƒæ•´éŸ³é‡æ–¹æ³•å¾…æ¢ç´¢ï¼‰ã€‚



### 12.2

##### 1.ç»“æŸLinuxè£¸æœºå¼€å‘ï¼Œè¿›å…¥ubootç§»æ¤é˜¶æ®µ

å‘ï¼špingä¸é€šï¼Œéœ€è¦åœ¨VMWareä¸­è®¾ç½®ç½‘ç»œä¸ºæ¡¥æ¥æ¨¡å¼
		nfsä¸‹è½½æ–‡ä»¶å‡ºé”™:https://blog.csdn.net/qq_41709234/article/details/123160029

æ”¹å®Œä¹‹åä¸Šä¸äº†ç½‘ï¼šæ”¹å›NATæ¨¡å¼ï¼ŒIPv4çš„Automaticå…¨éƒ¨æ‰“å¼€
tftpä¸‹è½½ï¼šServer IP -> setenv serverip 192.168.1.66

##### 2.å­¦ä¹ äº†æ˜¥æ—¥å½±

è¿™é¦–æ­Œçš„ç¼–æ›²çœŸçš„å¾ˆæ£’ï¼ŒVerse1/2çš„æ–­å¥éƒ½ä¸ä¸€æ ·ï¼Œæœç„¶Elements Gardenéƒ½æ˜¯ä¸€å¸®äº†ä¸èµ·çš„äººã€‚

### 12.3

##### 1.PCBåˆ°è´§äº†ï¼Œä½†æ˜¯å…ƒä»¶ä¹°æ™šäº†ï¼Œä¸‹æ¬¡é‡‡è´­å…ƒä»¶ä¸è¦çŠ¹è±«å¤ªä¹…

åˆæ­¥æµ‹è¯•é€šè¿‡ï¼ŒFlashä¿å­˜éœ€è¦3ç§’å·¦å³çš„æ—¶é—´ï¼Œä¸è¦å¤ªå¿«ï¼Œä¼šå¯¼è‡´å†™å…¥æ•°ç»„ä¸å®Œå…¨ã€‚

##### 2.ä»Šå¤©ä¼‘æ¯æ—¥ï¼Œä¸€ç›´åœ¨çœ‹MyGOäºŒåˆ›å’ŒBanG Dream!ç›¸å…³éŸ³ä¹ï¼Œå·©å›ºäº†æ˜¥æ—¥å½±ï¼Œå­¦äº†ä¸€ä¸‹è¿·æ˜Ÿå«ï¼Œè¿™é¦–èŠ‚å¥æ¯”è¾ƒå¿«ã€‚

##### 3.æ‰¾åˆ°äº†ä¸€ä¸ªä½¿ç”¨ç»“æ„ä½“å®ç°çš„spi OLED-STM32èœå•å¼€æºé¡¹ç›®

æŒºå¤æ‚çš„ï¼Œå¸Œæœ›æœ‰æœä¸€æ—¥èƒ½å¼„æ˜ç™½ï¼ˆOSP_32/oledå¤šçº§èœå•-é«˜çº§å®ç°æ–¹æ³•-C8T6ï¼‰

### 12.4

##### 1.ç„Šæ¥PCBå®Œæ¯•

SAM8108å®˜æ–¹æ‰‹å†Œç»™çš„PMOSæ‰©æµé©±åŠ¨ç”µè·¯å­˜åœ¨é”™è¯¯ï¼ŒPMOSç”µæµæ–¹å‘æ˜¯æºææµå‘æ¼æï¼Œç”µæºç”µå‹é€šè¿‡ä½“äºŒæç®¡ç»™ä¸‹æ¸¸è®¾å¤‡ä¾›ç”µï¼Œç¬é—´å‡»ç©¿ä½“äºŒæç®¡

##### 2.ä¿®å¥½ä¸ƒæ˜Ÿè™«M3Så¼€å‘æ¿

ZET6å°è£…æœ‰å¾ˆå¤šçš„â€œç¬¬ä¸€è„šä½é›¶ç‚¹â€ï¼Œç„Šæ¥ä¸€å®šä¸èƒ½å¼„åäº†ï¼ï¼ï¼

### 12.5

##### 1.æ›´æ”¹ASRPRO-WS2812æ–¹æ¡ˆï¼Œä½¿ç”¨å»ºç«‹çº¿ç¨‹æ–¹æ³•å®ç°å¾ªç¯é—ªç¯ã€‚

##### 2.å°†èƒ¡é‘«ä»£ç å¯¼å…¥CCSæ–¹æ³•ï¼š

â‘  å¤åˆ¶å·¥ç¨‹æ–‡ä»¶å¤¹åˆ°

```
F:\Folder\EE\Texas Instruments\User_Project_Ti\CCS Workspace //å·¥ä½œåŒº
```

â‘¡ åœ¨ccsä¸­æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œæ·»åŠ å¦‚Project Explorer

â‘¢ åœ¨Projectä¸‹è¿›å…¥Properties -> Build -> ARM Complier -> Include OptionsåŠ å…¥

```
D:\Ti-CCS\tivaware_c_series_2_1_4_178 //Tiva-Libçš„ç›®å½•
```

Properties -> Build->ARM Complier -> File search Path ä¹Ÿæ˜¯å¦‚æ­¤

â‘£ libæ–‡ä»¶é€‰æ‹©ï¼š

```
D:\Ti-CCS\tivaware_c_series_2_1_4_178\driverlib\ccs\Debug\driverlib.lib
```

### 12.6

##### 1.æ›´æ¢STM32èŠ¯ç‰‡çš„æ–¹æ³•ï¼ˆZE/C6/C8äº’æ¢ï¼‰

â‘  åœ¨Start\ä¸‹ï¼Œæ›´æ”¹startup_stm32f10x_xd.sä¸ºå¯¹åº”çš„ï¼ˆC6->ld C8->md ZE->hd)
â‘¡ åœ¨Keilä¸­æ›´æ¢èŠ¯ç‰‡å‹å·ä¸ºå¯¹åº”ï¼Œå¦åˆ™å¯ä»¥ç¼–è¯‘æ— æ³•ä¸‹è½½
â‘¢ åœ¨C/C++ \Define:ä¸­ï¼Œæ·»åŠ ", STM32F10X_xD"

##### 2.GB2312å·¥ç¨‹æ›´æ”¹ä¸ºUTF-8æ–¹æ³•

â‘  å°†dir\ä¸‹æ‰€æœ‰æ–‡ä»¶è½¬åŒ–ä¸ºUTF-8æ ¼å¼ï¼ˆä½¿ç”¨æ‰¹é‡è½¬æ¢è½¯ä»¶ï¼‰
â‘¡ åœ¨Keilçš„é­”æœ¯æ£’ä¸‹ï¼ŒMisc Controlä¸­æ·»åŠ "--no-multibyte-chars"
â‘¢ è‹¥ä½¿ç”¨ä¸²å£è°ƒè¯•ï¼Œéœ€è¦åœ¨ä¸²å£åŠ©æ‰‹ä¸­åŒæ—¶é€‰æ‹©ç¼–ç æ ¼å¼ä¸ºUTF-8

### 12.7

##### 1.ç ”ç©¶äº†commonKeyçš„æ£€æµ‹å®ç°æ–¹æ³•ï¼Œè®¾è®¡é“¾è¡¨æ“ä½œä¸ç»“æ„ä½“

â‘ <img src="F:\æ–‡ä»¶\QQ\qqdata\Tencent Files\1528713506\nt_qq\nt_data\Pic\2023-12\Ori\35c5f65e1e2bc9c6302dad245e2abad0.png" alt="35c5f65e1e2bc9c6302dad245e2abad0" style="zoom:40%;" />

å›¾ä¸­ç¬¬27è¡Œå¤„ï¼Œä¸ºä½åŸŸæ“ä½œã€‚æ‰€è°“â€œä½åŸŸâ€æ˜¯æŠŠä¸€ä¸ªå­—èŠ‚ä¸­çš„äºŒè¿›ä½åˆ’åˆ†ä¸ºå‡  ä¸ªä¸åŒçš„åŒºåŸŸï¼Œå¹¶è¯´æ˜æ¯ä¸ªåŒºåŸŸçš„ä½æ•°ã€‚æ¯ä¸ªåŸŸæœ‰ä¸€ä¸ªåŸŸåï¼Œå…è®¸åœ¨ç¨‹åºä¸­æŒ‰åŸŸåè¿›è¡Œæ“ä½œã€‚è¿™æ ·å°±å¯ä»¥æŠŠå‡ ä¸ªä¸åŒçš„å¯¹è±¡ç”¨ä¸€ä¸ªå­—èŠ‚çš„äºŒè¿›åˆ¶ä½åŸŸæ¥è¡¨ç¤ºã€‚

æ³¨å†ŒæŒ‰é”®å¥æŸ„ä½¿ç”¨ä¸STM32GPIO_InitåŒæ ·çš„æ–¹æ³•ï¼Œåœ¨åˆå§‹åŒ–å‡½æ•°ä¸­å¯¹æ¯ä¸ªæŒ‰é”®å®šä¹‰çš„åˆå§‹åŒ–å¥æŸ„å–åœ°å€ï¼ˆ&ï¼‰

##### 2.æ–°é¢–è¡¨è¾¾å¼

```
loop_count = CPUFREQ == CLK_12M ? 177 : CPUFREQ == CLK_24M ? 353 : CPUFREQ == CLK_16M ? 299 : 201 ;
```

##### 3.æŸ¥é˜…äº†å—äº¬é‚®ç”µå¤§å­¦ç§‘åçš„Giteeï¼Œä¸‹è½½äº†èµ„æ–™ï¼ˆEE\Resourse\å—äº¬é‚®ç”µå¤§å­¦Gitï¼‰

â‘  Birchå¼€å‘æ¿ï¼Œå†…å«U8g2ç§»æ¤STM32ä¾‹ç¨‹
â‘¡ OpenCVèŒæ–°å…¥é—¨ï¼ˆä»¥åå†çœ‹ï¼‰
â‘¢ æ§åˆ¶ADxxxxäº§ç”Ÿä½é¢‘ä¿¡å·çš„ä¾‹ç¨‹ï¼ˆåœ¨ä¿¡å·å‘ç”Ÿå™¨èµ„æ–™å†…ï¼‰

### 12.8

##### 1.ç§»æ¤äº†STC15W204Sçš„OLEDå’Œprintf

â‘  **data**è¡¨ç¤ºå•ç‰‡æœºå†…éƒ¨RAMæ‰€ä½¿ç”¨çš„ç©ºé—´å¤§å°ï¼Œä¸º52å­—èŠ‚ï¼ˆ15W204S SRAMä¸º256å­—èŠ‚ï¼‰ã€‚**xdata**è¡¨ç¤ºå•ç‰‡æœºç‰‡å¤–RAMæ‰€ä½¿ç”¨çš„ç©ºé—´å¤§å°ï¼ˆ15W204Sæ— ç‰‡å¤–RAMï¼‰ï¼Œä¸º0å­—èŠ‚ã€‚RAMç”¨äºå­˜æ”¾å˜é‡ï¼›**code**è¡¨ç¤ºç¨‹åºæ–‡ä»¶çš„å¤§å°ï¼Œä¸º1411å­—èŠ‚ï¼Œå·®ä¸å¤š1.5KBï¼Œå ç”¨çš„æ˜¯å•ç‰‡æœºflashçš„ç©ºé—´ï¼ˆ15W204S 	        FLASHä¸º4KBï¼‰ã€‚**const**åˆ™æ˜¯å­˜åœ¨åœ¨ROMä¸­çš„å˜é‡ï¼ˆåœ¨æœ¬å·¥ç¨‹ä¸­åŒ…æ‹¬OLEDå­—åº“å’ŒBMPå›¾åƒï¼‰

![image-20231208171243342](C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20231208171243342.png)

â€‹																				**data** â€”> ã€€  å¯å¯»å€ç‰‡å†…RAM
â€‹																				**bdata** â€”> 	å¯ä½å¯»å€çš„ç‰‡å†…RAM
â€‹																				**idata** â€”> ã€€ å¯å¯»å€ç‰‡å†…RAMï¼Œå…è®¸è®¿é—®å…¨éƒ¨å†…éƒ¨RAM
â€‹																				**pdata** â€”> 	åˆ†é¡µå¯»å€ç‰‡å¤–RAM(MOVX @R0) (256 BYTE/é¡µ) 
â€‹																				**xdata** â€”> 	å¯å¯»å€ç‰‡å¤–RAM(64k åœ°å€èŒƒå›´FFFFH) 
â€‹																				**code** â€”> ç¨‹åºå­˜å‚¨åŒºROM (64k åœ°å€èŒƒå›´),å¯¹åº”MOVC @DPTR


â‘¡ å˜é‡è¿‡å¤šï¼Œè¶…è¿‡idataå’Œxdataçš„å¤§å°ï¼Œé‚£ä¹ˆç¼–è¯‘æ—¶ï¼Œä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯ç¨‹åºè¿è¡Œä¼šå´©æºƒï¼Œå¯èƒ½åªæœ‰éƒ¨åˆ†ä»£ç åœ¨è¿è¡Œï¼Œå³ä¸ä¼šå®Œæ•´è¿è¡Œå…¨éƒ¨ç¨‹åºï¼ï¼ï¼
STC15W204S å‰128KB SRAMå¯ä»¥ç›´æ¥è®¿é—®ï¼Œå128KBRAMéœ€è¦åœ¨å˜é‡å‰å£°æ˜idataæ‰å¯ä»¥è®¿é—®ï¼Œå¦åˆ™ä¼šæŠ¥OVERFLOWé”™è¯¯

ä¾‹å¦‚ï¼š STC15W408ASç‰‡å†…é›†æˆ512å­—èŠ‚çš„SRAMï¼ŒåŒ…æ‹¬å¸¸è§„çš„256å­—èŠ‚RAM (idata) å’Œå†…éƒ¨æ‰©å±•çš„256å­—èŠ‚ XRAM (xdata)ï¼Œæœ‰8Kçš„FLASHã€‚å¦‚æœdataæˆ–è€…xdataçš„ç¼–è¯‘ç»“æœå¤§äº256ï¼Œé‚£ä¹ˆç¨‹åºå°±ä¼šå´©æºƒï¼Œä¸èƒ½å®Œæ•´è¿è¡Œï¼Œä½†æ­¤æ—¶ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªRAMæ²¡æœ‰ç”¨æ»¡ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨å˜é‡å£°æ˜å‰æ·»åŠ idataæˆ–è€…xdataï¼Œå°†å˜é‡ç§»è‡³å¦å¤–ä¸€ä¸ªRAMï¼Œä½¿å¾—RAMéƒ½æ²¡æœ‰ç”¨æ»¡ï¼Œåˆ™ç¨‹åºä¼šæ­£å¸¸è¿è¡Œã€‚å®é™…ä¸Šï¼Œåº”è¯¥é¿å…ç”¨æ»¡RAMï¼Œåº”è¯¥ç•™å‡º20~30å­—èŠ‚çš„éƒ¨åˆ†ç©ºé—´ï¼Œé¿å…åœ¨è¿è¡Œå¤æ‚ç¨‹åºæ—¶å´©æºƒï¼Œè€Œç®€å•ç¨‹åºè¿è¡Œæ—¶å¯èƒ½æ­£å¸¸ã€‚

â‘¢ **Keilä¸­Memory Modelå’ŒCode Rom Sizeè¯´æ˜**

C51ä¸­å®šä¹‰å˜é‡æ—¶å¦‚æœçœç•¥å­˜å‚¨å™¨ç±»å‹ï¼ŒKeil C51ç¼–è¯‘ç³»ç»Ÿåˆ™ä¼šæŒ‰ç¼–è¯‘æ¨¡å¼SMALLã€COMPACTå’ŒLARGEæ‰€è§„å®šçš„é»˜è®¤å­˜å‚¨å™¨ç±»å‹å»æŒ‡å®šå˜é‡çš„å­˜å‚¨åŒºåŸŸï¼Œæ— è®ºä»€ä¹ˆå­˜å‚¨æ¨¡å¼éƒ½å¯ä»¥å£°æ˜å˜é‡åœ¨ä»»ä½•çš„8051å­˜å‚¨åŒºèŒƒå›´iï¼Œä½†æ˜¯æŠŠæœ€å¸¸ç”¨çš„å‘½ä»¤å¦‚å¾ªç¯è®¡æ•°å™¨å’Œé˜Ÿåˆ—ç´¢å¼•æ”¾åœ¨å†…éƒ¨æ•°æ®åŒºå¯ä»¥æ˜¾è‘—åœ°æé«˜ç³»ç»Ÿæ€§èƒ½ã€‚ä»¥ä¸‹ä»‹ç»ä¸€ä¸‹Keilç¼–è¯‘é€‰é¡¹Targetä¸­çš„Memory Modelå’ŒCode Rom Sizeçš„è®¾ç½®ã€‚

1ã€**SMALLæ¨¡å¼**

SMALLæ¨¡å¼ï¼šåœ¨æœ¬æ¨¡å¼ä¸­æ‰€æœ‰çš„å˜é‡åœ¨ç¼ºçœçš„æƒ…å†µä¸‹ä½äº8051ç³»ç»Ÿçš„å†…éƒ¨æ•°æ®åŒºï¼ˆè¿™å’Œç”¨dataå­˜å‚¨ç±»å‹æ ‡è¯†ç¬¦æ˜ç¡®å£°æ˜çš„ä¸€æ ·ï¼Œå› æ­¤å¯¹è¿™ç§å˜é‡çš„è®¿é—®æ•°æ®æœ€å¿«ï¼‰ï¼Œåœ¨æœ¬æ¨¡å¼ä¸­ï¼Œå˜é‡è®¿é—®éå¸¸æœ‰æ•ˆï¼Œç„¶è€Œæ‰€æœ‰çš„ä¸œè¥¿åŒ…æ‹¬å †æ ˆå¿…é¡»æ”¾åœ¨å†…éƒ¨RAMä¸­ï¼Œå †æ ˆå¤§å°æ˜¯ä¸ç¡®å®šçš„ï¼Œå®ƒå–å†³äºå‡½æ•°åµŒå¥—çš„æ·±åº¦ã€‚å…¸å‹çš„ï¼Œå¦‚æœè¿æ¥/å®šä½å™¨é…ç½®ä¸ºå†…éƒ¨æ•°æ®åŒºå˜é‡å¯è¦†ç›–ï¼Œ**SMALLæ¨¡å¼æ˜¯æœ€å¥½çš„æ¨¡å¼**ï¼Œä½†æ˜¯SMALLæ¨¡å¼çš„åœ°å€ç©ºé—´å—é™ï¼Œåœ¨å†™å°å‹çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œå˜é‡å’Œæ•°æ®æ”¾åœ¨Dataå†…éƒ¨æ•°æ®å­˜å‚¨å™¨ä¸­æ˜¯å¾ˆå¥½çš„ï¼Œå› ä¸ºè®¿é—®é€Ÿåº¦å¿«ï¼Œä½†åœ¨è¾ƒå¤§çš„ç¨‹åºä¸­DataåŒºæœ€å¥½åªå­˜æ”¾å°çš„å˜é‡ã€æ•°æ®æˆ–å¸¸ç”¨çš„å˜é‡ï¼ˆå¦‚å¾ªç¯è®¡æ•°ã€æ•°æ®ç´¢å¼•ï¼‰ï¼Œè€Œå¤§çš„æ•°æ®åˆ™æ”¾åœ¨åˆ«çš„å­˜å‚¨åŒºåŸŸï¼Œå¦åˆ™DataåŒºå°±å®¹æ˜“æº¢å‡ºã€‚

2ã€**COMPACTæ¨¡å¼**

COMPACTæ¨¡å¼ï¼šæŠŠå˜é‡éƒ½å®šä½åœ¨MCS-51ç³»ç»Ÿçš„å¤–éƒ¨æ•°æ®å­˜å‚¨å™¨ä¸­ï¼Œå¤–éƒ¨æ•°æ®å­˜å‚¨æ®µå¯æœ‰æœ€å¤š256å­—èŠ‚ï¼ˆä¸€é¡µ ï¼‰ï¼Œè¿™æ˜¯å¯¹å˜é‡çš„è®¿é—®æ˜¯é€šè¿‡å¯„å­˜å™¨é—´æ¥å¯»å€ï¼ˆMOVX @Riï¼‰è¿›è¡Œçš„ã€‚é‡‡ç”¨è¿™ç§ç¼–è¯‘æ¨¡å¼æ—¶ï¼Œå˜é‡çš„é«˜8ä½åœ°å€ç”±P2å£ç¡®å®šï¼Œå› æ­¤ï¼Œåœ¨é‡‡ç”¨è¿™ç§æ¨¡å¼çš„åŒæ—¶ï¼Œå¿…é¡»é€‚å½“æ”¹å˜å¯åŠ¨ç¨‹åºSTARTUP.A51ä¸­çš„å‚æ•°PDATASTARTå’ŒPDATALENï¼Œç”¨L51è¿›è¡Œè¿æ¥æ—¶è¿˜å¿…é¡»é‡‡ç”¨è¿æ¥æ§åˆ¶å‘½ä»¤PDATAæ¥å¯¹P2å£åœ°å€è¿›è¡Œå®šä½ï¼Œè¿™æ ·æ‰èƒ½ç¡®ä¿P2å£ä¸ºæ‰€éœ€çš„é«˜8ä½åœ°å€ã€‚

3ã€**LARGEæ¨¡å¼**

LARGEæ¨¡å¼ä¸­ï¼šæ‰€æœ‰å‡½æ•°å’Œè¿‡ç¨‹çš„å˜é‡ä»¥åŠå±€éƒ¨å˜é‡æ•°æ®æ®µéƒ½è¢«å®šä¹‰åœ¨51ç³»ç»Ÿçš„å¤–éƒ¨æ•°æ®å­˜å‚¨å™¨ä¸­ï¼Œå¤–éƒ¨æ•°æ®å­˜å‚¨å™¨æœ€å¤šå¯æœ‰64Kï¼Œè¿™è¦æ±‚ç”¨DPTRæ•°æ®æŒ‡é’ˆæ¥é—´æ¥åœ°è®¿é—®æ•°æ®ï¼Œå› æ­¤ï¼Œè¿™ç§è®¿é—®æ•ˆç‡å¹¶ä¸é«˜ï¼Œå°¤å…¶æ˜¯å¯¹2ä¸ªæˆ–å¤šä¸ªå­—èŠ‚çš„å˜é‡ï¼Œç”¨è¿™ç§æ¨¡å¼è®¿é—®æ•°æ®ç¨‹åºçš„ä»£ç å°†ä¼šå¾ˆå¤§ã€‚

------

###### **æ‰€ä»¥ï¼Œå¼€å‘STC8Hç­‰å¤§å®¹é‡æ—¶ï¼Œå°½é‡é€‰æ‹©SMALLæ¨¡å¼æ¥å¢åŠ å•ç‰‡æœºè®¿é—®å˜é‡çš„é€Ÿåº¦ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰**

å¦‚æœä¸œè¥¿åŠ å¤šäº†å°±ä¼šæŠ¥

```
*** ERROR L121: IMPROPER FIXUP
```

è¿™ç§æƒ…å†µä¸‹ï¼Œå°±é€æ­¥å¢å¤§**Memory Model**å’Œ**Code Rom Size**å¤§å°ï¼Œç›´è‡³æŠ¥é”™æ¶ˆå¤±

------

â‘£ **STC15å•ç‰‡æœºä¸‹è½½ç›¸åŒç¨‹åºï¼Œä½†æ˜¯è¿è¡Œç¨‹åºå‡ºç°å¼‚å¸¸çš„å¯èƒ½åŸå› **

å¦‚æœç¨‹åºå‡ºç°å¼‚å¸¸ï¼Œå»ºè®®ç»™å•ç‰‡æœºé‡å¯ï¼Œåœ¨è¿æ¥USBè½¬TTLçš„æƒ…å†µä¸‹ï¼Œé‡å¯åº”è¯¥æ˜¯æ–­å¼€è´Ÿæï¼Œè€Œä¸æ˜¯æ–­å¼€æ­£æï¼Œå› ä¸ºTXã€RXåŒæ ·ä¼šç»™å•ç‰‡æœºä¾›ç”µã€‚å¦‚æœåªæ–­å¼€æ­£æï¼ˆTXã€RXæ²¡æ–­å¼€ï¼‰ï¼Œé‚£ä¹ˆç¨‹åºä»ç„¶æœ‰å¯èƒ½ä¼šè¿è¡Œå¼‚å¸¸ã€‚

##### 2.å¯¹æ¯”ä¸åŒå–‡å­åœ¨SU-03Tä¸Šçš„åŠŸè€—ï¼ˆä½¿ç”¨åˆå®™IoT Powerï¼‰

4Î©3Wå¤§è¡Œç¨‹å–‡å­ä½éŸ³å¥½ï¼Œå£°éŸ³æ›´æœ‰è´¨æ„Ÿï¼ŒåŠŸè€—æ›´å¤§ï¼ˆ531mA@5.2Vï¼‰ã€‚å¸¦é»‘è‰²è…”ä½“å–‡å­å£°éŸ³è¾ƒä¸ºæ´ªäº®ï¼Œä½†å£°éŸ³å•è–„ï¼ŒåŠŸè€—è¾ƒå°ï¼ˆ305mA@5.2Vï¼‰ã€‚

##### 3.Keil F12,æ˜¾ç¤º NO information available for the selected symbol

**åŸå› ï¼š**V6ç¼–è¯‘å™¨ä¸æ”¯æŒä¸­æ–‡è·¯å¾„

**è§£å†³æ–¹æ³•ï¼š**æ›´æ”¹ä¸ºV5æˆ–è€…ç½®å…¥å…¨è‹±æ–‡è·¯å¾„

### 12.9

##### 1.Keil è°ƒè¯•æ¨¡å¼ä¸‹èƒ½è¿è¡Œ çƒ§å½•åˆ°æ¿å­ä¸­ä¸èƒ½è¿è¡Œ

åŸå› ï¼š	åœ¨ç¨‹åºä¸­ä½¿ç”¨äº†printfå‡½æ•°ï¼Œä½†æ˜¯å´æ²¡æœ‰åŒ…å«keilçš„å¾®åº“ï¼ˆMicro LIBï¼‰ï¼Œæˆ–è€…å¯¹äºprintfå‡½æ•°æ²¡æœ‰è¿›è¡Œé‡å®šå‘æ“ä½œ
è§£å†³æ–¹æ³•ï¼šOptions -> Target -> Use Micro LIB

##### 2.Keil ä½¿ç”¨UTF-8æŠ¥é”™#8

æŠ¥é”™å†…å®¹ï¼š

```
error: #8: missing closing quote
```

è§£å†³æ–¹æ³•ï¼šOptions -> C/C++ -> Misc Controls æ·»åŠ :

```
--no-multibyte-chars
```

##### 3.Keil ç”Ÿæˆ.libæ–‡ä»¶ï¼ˆä»¥Keil C51ä¸ºä¾‹ï¼‰

â‘  æŠŠéœ€è¦ç”Ÿæˆlibçš„Srcå’ŒIncå•ç‹¬åˆ›å»ºä¸€ä¸ªGroupï¼Œå¹¶ä¸”æ”¾å…¥åŒåæ–‡ä»¶å¤¹ä¸­ï¼ŒC/C++æ·»åŠ å¯¹åº”åŒ…å«ç›®å½•
â‘¡ **å…¶ä»–ä¸éœ€è¦ç”Ÿæˆlibçš„Groups** å³é”® -> " Options for Group 'xx' " -> "Include in Target Build" å–æ¶ˆæ‰“é’©ã€‚æ­¤æ—¶é™¤äº†éœ€è¦ç”Ÿäº§Libçš„Groupå…¶ä»–éƒ½åº”è¯¥	å‡ºç°çº¢ç‚¹
â‘¢ Options -> Output-> Create Library æ‰“é’©
â‘£ Project Fileså¯¹åº”çš„Groupä¸­ï¼Œåˆ é™¤Srcæ–‡ä»¶ï¼Œæ·»åŠ Incæ–‡ä»¶å’ŒLibæ–‡ä»¶ï¼ˆä»OUTPUTç›®å½•å‰ªåˆ‡è¿‡å»ï¼Œæ”¹æˆå¯¹åº”çš„åå­—ï¼‰
â‘¤ Rebuild Projectï¼Œæ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯
â‘¥ Options -> Output-> Create Exe. æ‰“é’©ï¼Œç”Ÿæˆ.hexæ–‡ä»¶

##### 4.å°è¯•äº†å¤§ä½¬çš„ä¾‹ç¨‹@FPM383C

### 12.10

##### 1.Keil STLinkæ— æ³•æ­£å¸¸Reset

è§£å†³æ–¹æ³•ï¼šOptions -> Debug -> ST-Link Settings -> Pack -> å–æ¶ˆEnable

##### 2.å°è¯•äº†å¤§ä½¬çš„ä¾‹ç¨‹@wouo-ui

##### 3.å­¦ä¹ äº†JXKJçš„0.96OLEDæ•™ç¨‹

å­¦ä¹ è¿‡ç¨‹ï¼šOLED-DrawAnonANDTomori

### 12.11

##### 1.æ›´æ”¹äº†Keil å­—ä½“

```
JetBrainsMonoNL-Regular
```

æ•ˆæœéå¸¸å¥½ï¼ŒCourier Newçœ‹ä¹…äº†ä¼šæœ‰ç‚¹ç»†

##### 2.ç²—ç•¥é˜…è¯»äº†ä¸€ä¸‹AIR32çš„Daplinkæºç ï¼Œå¹¶ä¸”ä¸‹è½½äº†luatos Using KiCadçš„å·¥ç¨‹ï¼Œç­‰å¾…å­¦ä¹ 

##### 3.è®°ä¸€æ¬¡STM32ä½¿ç”¨I2C PinRemapå¼•è„šé‡æ˜ å°„å‡ºç°å¡æ­»ç°è±¡

ä»¥ä¸‹ä¸ºç½‘å‹é‡åˆ°çš„ï¼š

>	åœ¨è°ƒè¯•å¤šç”¨æˆ·è¡¨çš„æ—¶å€™ï¼Œå‘ç°å¦‚æœäººä¸ºçŸ­æ¥I2Cçš„SDAæˆ–SLKè„šåï¼ŒI2Cçš„SR2çš„Busyæ ‡å¿—å°†ä¼šç½®1ï¼Œå¹¶ä¸”è¯•äº†å¾ˆå¤šç§åŠæ³•ä¹Ÿæ— æ³•æ¸…é™¤è¯¥æ ‡å¿—ä½ï¼Œåªèƒ½å¤ä½èŠ¯ç‰‡åI2Cæ‰èƒ½æ¢å¤æ­£å¸¸ã€‚
>	å¯¼è‡´è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯STM32èŠ¯ç‰‡çš„ç¡¬ä»¶I2Cæ¥å£æ˜¯æ”¯æŒå¤šä¸ªä¸»è®¾å¤‡åŒæ—¶ä½¿ç”¨çš„ï¼ŒSTM32çš„I2Cæ¥å£ä¼šä¸€ç›´æ£€æŸ¥SDAå’ŒSLKçš„çŠ¶æ€ï¼Œå½“å‡ºç°éè‡ªå·±å‘å‡ºçš„ç”µå¹³å˜åŒ–ç­‰æƒ…å†µåï¼ŒSTM32èŠ¯ç‰‡åˆ™åˆ¤å®šä¸ºæ˜¯æœ‰å…¶å®ƒI2Cçš„ä¸»åœ¨æ“ä½œæ€»çº¿ï¼Œè¿™æ ·STM32çš„Busyï¼ˆæ€»çº¿å¿™æ ‡å¿—ï¼‰åˆ™ä¼šç½®ä½ï¼Œåªæœ‰åœ¨æ£€æŸ¥åˆ°ä¸€æ¬¡I2Cåè®®çš„åœæ­¢ä½åæ‰ä¼šç¡¬ä»¶æ¸…é™¤è¯¥æ ‡å¿—ï¼Œå¦‚ä¸‹è¯´æ˜ï¼š

![img](https://img-blog.csdnimg.cn/20210105134528450.png)

**é‡åˆ°çš„ç°è±¡**ï¼šåœ¨ä¹ æƒ¯ä½¿ç”¨çš„ï¼ˆSWI2C & HWI2Cï¼‰@(PB8->SCL PB9->SDA)è¿æ¥OLEDçš„æƒ…å†µä¸‹ï¼Œå¤§å¤šæ•°æƒ…å†µä½¿ç”¨æ±Ÿç§‘å¤§çš„SWI2Cï¼Œä¸€åˆ‡æ­£å¸¸ã€‚
ä»Šå¤©è·‘æŸå¼€æºç§»æ¤u8g2 wouo-uiï¼ˆHWI2Cï¼‰@(PB6->SCL PB7->SDA) é‡åˆ°äº†ä¸€æ—¦è¿æ¥OLEDçš„æ­£è´Ÿæè·³çº¿å°±ä¼šå¯¼è‡´STM32å¡æ­»çš„ç°è±¡ã€‚æ„è¯†åˆ°å¯èƒ½è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„æ ‡å‡†åº“ Bugï¼Œç½‘ä¸Šæœå¯»æ–¹æ¡ˆåæˆåŠŸè§£å†³ï¼Œä½†æ˜¯I2Cçš„é€šä¿¡é€Ÿç‡ä¸èƒ½è°ƒçš„å’Œéé‡æ˜ å°„çš„ä¸€æ ·é«˜ï¼ŒåŸå› æœªçŸ¥ã€‚

**ä¸»è¦åŸå› **ï¼šåŠ å…¥çš„OLEDä¾›ç”µæ­£è´Ÿæè·³çº¿ä¼šå¯¼è‡´PB6 PB7è¢«åŠ¨å—åˆ°å¤–éƒ¨ç”µå¹³å½±å“ï¼Œå†…æ ¸æ£€æµ‹åˆ°BUSYä¿¡å·ï¼Œæ•…å¡æ­»ã€‚
**è§£å†³æ–¹æ³•**ï¼šè½¯ä»¶å¤ä½ï¼Œæˆ–æ›´æ¢HAL åº“

**æ­¥éª¤**ï¼š
â‘  é‡æ˜ å°„é…ç½®
åœ¨GPIOçš„RCCä½¿èƒ½å‡½æ•°ä¸‹ï¼ŒåŠ å…¥å¦‚ä¸‹è¯­å¥ï¼š

```
    RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO, ENABLE);
    GPIO_PinRemapConfig(GPIO_Remap_I2C1, ENABLE); 	//é‡æ˜ å°„åˆ°PB8/PB9
```

â‘¡ åœ¨æ‰€æœ‰I2C1æœ‰å…³çš„é…ç½®å¯„å­˜å™¨å†™å…¥ä»»ä½•æ•°æ®ä¹‹å‰ï¼ŒåŠ å…¥å¦‚ä¸‹è¯­å¥ï¼š

```
    I2C1->CR1 |= (1 << 15);
    I2C1->CR1 &= ~(1 << 15);   
```

![image-20231212012337715](C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20231212012337715.png)

å®Œæ•´çš„I2Cåˆå§‹åŒ–ä»£ç å¦‚ä¸‹:

```
#define IIC_OLED_SCL_Pin        	GPIO_Pin_8
#define IIC_OLED_SCL_GPIO       	GPIOB
#define IIC_OLED_SCL_GPIO_CLK		RCC_APB2Periph_GPIOB


#define IIC_OLED_SDA_Pin        	GPIO_Pin_9
#define IIC_OLED_SDA_GPIO       	GPIOB
#define IIC_OLED_SDA_GPIO_CLK		RCC_APB2Periph_GPIOB

/*å¼•è„šåˆå§‹åŒ–*/
void OLED_I2C_Init(void)
{
	I2C_InitTypeDef I2C_InitStructure = {0};
    GPIO_InitTypeDef GPIO_InitStructure = {0};						//å®šä¹‰GPIOç»“æ„ä½“
    
    I2C1->CR1 |= (1 << 15);
    I2C1->CR1 &= ~(1 << 15);   // é˜²æ­¢é‡å®šä¹‰ä¹‹å‰,Vä¸Gè¿æ¥PB6 PB7å¯¼è‡´çš„I2Cå¡æ­»
    
	RCC_APB2PeriphClockCmd(IIC_OLED_SDA_GPIO_CLK,ENABLE);			//å¼€å¯GPIOæ¨¡å—çš„æ—¶é’Ÿ
	RCC_APB2PeriphClockCmd(IIC_OLED_SCL_GPIO_CLK,ENABLE);			//å¼€å¯GPIOæ¨¡å—çš„æ—¶é’Ÿ
	RCC_APB1PeriphClockCmd(RCC_APB1Periph_I2C1, ENABLE);
    
    RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO, ENABLE);
    GPIO_PinRemapConfig(GPIO_Remap_I2C1, ENABLE); 	//é‡æ˜ å°„åˆ°PB8/PB9éœ€è¦åŠ è¿™ä¸¤è¡Œï¼ˆæ— å…³ä½ç½®ï¼‰
    

    
    I2C_InitStructure.I2C_Mode = I2C_Mode_I2C;
    I2C_InitStructure.I2C_DutyCycle = I2C_DutyCycle_2;
    I2C_InitStructure.I2C_OwnAddress1 = 0x00;
    I2C_InitStructure.I2C_Ack = I2C_Ack_Enable;
    I2C_InitStructure.I2C_AcknowledgedAddress = I2C_AcknowledgedAddress_7bit;
    I2C_InitStructure.I2C_ClockSpeed = 285*1000;// N*1000
    I2C_Init(I2C1, &I2C_InitStructure);
    I2C_Cmd(I2C1, ENABLE);   
	
	GPIO_InitStructure.GPIO_Pin=IIC_OLED_SDA_Pin;					//é…ç½®SDAç«¯å£
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD; 				// è®¾ç½®GPIOçš„æ¨¡å¼ä¸ºè¾“å‡ºæ¨¡å¼
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
	GPIO_Init(IIC_OLED_SDA_GPIO, &GPIO_InitStructure); 				// åˆå§‹åŒ–GPIOä¸ºé«˜é€Ÿå¼€æ¼è¾“å‡ºæ¨¡å¼

	GPIO_InitStructure.GPIO_Pin=IIC_OLED_SCL_Pin;					//é…ç½®SCLç«¯å£
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD; 				// è®¾ç½®GPIOçš„æ¨¡å¼ä¸ºè¾“å‡ºæ¨¡å¼
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz; 				// é…ç½® I/O å£çš„é€Ÿåº¦ä¸ºï¼š50MHz
	GPIO_Init(IIC_OLED_SCL_GPIO, &GPIO_InitStructure); 				// åˆå§‹åŒ–GPIOä¸ºé«˜é€Ÿå¼€æ¼è¾“å‡ºæ¨¡å¼
}
```



##### 4.é‡æ–°å­¦ä¹ äº†Cè¯­è¨€çš„æŒ‡é’ˆï¼Œå¹¶ä¸”å†™äº†ä¾‹ç¨‹éªŒè¯

### 12.12

##### 1.STM32-CRCå¤–è®¾

##### 2.Markdownè¯­æ³•ç¬”è®°

1. ***Ctrl + .* ç»„åˆé”®å¯ä»¥æš‚æ—¶åˆ‡æ¢åˆ°ä¸­æ–‡+åŠè§’æ ‡ç‚¹ç¬¦å·çš„æ¨¡å¼!**
2.  i æ–œä½“,b åŠ ç²—
3.  "~~" -> åˆ é™¤çº¿ 
4.  "==" -> é«˜äº®
5. " >  "å‰ç½® -> å¼•ç”¨
   ä¾‹å¦‚:

> æµ‹è¯•

6. "-"æˆ–"+" åŠ ç©ºæ ¼å‰ç½® -> æ— åºåˆ—è¡¨ (åŠ Tabåˆ™å˜æˆå­é›†)
   ä¾‹å¦‚:

- æµ‹è¯•
- æµ‹è¯•2
  - å­é›†(å†æ•²ä¸€ä¸‹Tab)

7. æ•°å­—+"." -> æœ‰åºåˆ—è¡¨

8. "[]" + "()" -> é“¾æ¥

   ä¾‹å¦‚:[æµ‹è¯•](www.baidu.com)

9. "- [ ]" + ç©ºæ ¼ -> ä»»åŠ¡åˆ—è¡¨(æ³¨æ„-åé¢æœ‰ç©ºæ ¼,æ–¹æ‹¬å·å†…éƒ¨ä¹Ÿæœ‰ç©ºæ ¼)

   æµ‹è¯•:

   Todo:

   - [ ] æµ‹è¯•

   - [x] æµ‹è¯•2

10. **Win+åˆ†å·æˆ–ç‚¹ -> emoji/é¢œæ–‡å­—è¾“å…¥æ¨¡å¼ğŸ˜ğŸ˜‚**
11. å¸¸ç”¨å¿«æ·é”®

![image-20231212224634067](F:\Folder\EE\EverydayNote\yue-note.assets\image-20231212224634067.png)

##### 3.â„³ğ“ğ’¢ğ’ª!!!!! 1ğ“ˆğ“‰ â„’ğ’¾ğ“‹â„¯ï¼Œè¿™æ˜¯ä»€ä¹ˆå­—ä½“ï¼Ÿï¼Ÿ

### 12.13

##### 1. éªŒè¯äº†STM32F411CEU6/ST-Link/CH343UART(**WeActStudio**)çš„åŠŸèƒ½

##### 2. å°è¯•äº†åŠ å…¥æ— æ•ˆå‘½ä»¤è¯é»˜è®¤è¿”å›è¯­éŸ³,ä»¥**å¤±è´¥**å‘Šç»ˆ.

##### 3. æ¥ä¸‹å°å†œçš„å§”æ‰˜ä»»åŠ¡,å°†çº¢å¤–å¤œè§†çœ¼é•œåŠ å…¥ToDO List

### 12.14

##### 1. éªŒè¯äº†H750(WeActStudio)çš„å¼€å‘æ¿,å¹¶ä¸”è·‘äº†OpenMVçš„ç¨‹åº

##### 2 .æš‚æ—¶æ”¾å¼ƒäº†U-Bootçš„ç§»æ¤,å› ä¸ºå¤ªæ— èŠ

##### 3 .å®Œæˆçº¢å¤–çœ¼é•œçš„ä¸»è¦é›¶éƒ¨ä»¶è´­ä¹°

+ æ ‘è“æ´¾4B 4GB
+ HDMI-å–æ™¯å™¨OLED(ç›®é•œç”¨)
+ çœ¼é•œ3Dæ‰“å°å¤–å£³

##### 4. å¼€å§‹Linuxé©±åŠ¨å¼€å‘

### 12.15

##### 1. åˆå›åˆ°äº†U-Bootç§»æ¤

##### 2. æ ‘è“æ´¾åˆ°äº†



### 12.16

##### 1. æ ‘è“æ´¾é…ç¯å¢ƒ

+ æ ¼å¼åŒ–TFä¸ºFAT32

+ çƒ§å†™é•œåƒæ–‡ä»¶(å»ºè®®bullseye)

+ é…ç½®ä¸²å£ : config.txt åŠ å…¥

```
enable_uart=1
```

+ æ‰§è¡Œå¦‚ä¸‹æ“ä½œ,é˜²æ­¢æ— æ³•è¾“å…¥å¯†ç 

> [ã€æ ‘è“æ´¾ã€‘è§£å†³æ ‘è“æ´¾puttyè¿æ¥-è¾“å…¥è´¦å·piå¯†ç raspberryåæ˜¾ç¤ºAccess deniedçš„é—®é¢˜ ](https://www.cnblogs.com/steven913/p/17289120.html)

+ puttyè¿æ¥åæ‰§è¡Œ

```
sudo raspi-config
```

+ æ‰“å¼€æ‘„åƒå¤´

+ æ‰“å¼€ä¸²å£

+ æ‰“å¼€VNC

+ æ‰“å¼€SSH

+ æŸ¥çœ‹wifiåå°æ˜¯å¦æœ‰æ ‘è“æ´¾çš„åœ°å€,è¾“å…¥VNCå®¢æˆ·ç«¯(ä¸putty)

+ VNCè¿œç¨‹è®¾ç½®æˆåŠŸ

+ æ›¿æ¢æºä¸ºæ¸…åå¤§å­¦é•œåƒæº
  + é¦–å…ˆåœ¨æ ‘è“æ´¾æ“ä½œç³»ç»Ÿçš„å‘½ä»¤è¡Œä¸­ç”¨nanoå‘½ä»¤ç¼–è¾‘ã€Œ/etc/apt/sources.listã€æ–‡ä»¶ï¼š

```
sudo nano /etc/apt/sources.list
```

â€‹				åœ¨æ¯ä¸€è¡Œå†…å®¹å‰éƒ½è¾“å…¥ï¼ƒå·ï¼Œå°†å…¶æ³¨é‡Šæ‰ã€‚ç„¶ååœ¨æœ«å°¾æ·»åŠ ï¼š

```
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free
deb https://security.debian.org/debian-security bullseye-security main contrib non-free
```

â€‹		 		æ¥ä¸‹æ¥ç”¨nanoå‘½ä»¤ç¼–è¾‘ã€Œ/etc/apt/sources.list.d/raspi.listã€æ–‡ä»¶ï¼š

```
sudo nano /etc/apt/sources.list.d/raspi.list
```

â€‹				åŒæ ·æ³¨é‡Šæ‰åŸå†…å®¹ï¼Œç„¶åæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```
deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ bullseye main
```

â€‹				æŒ‰ctrl+oä¿å­˜ï¼Œctrl+xé€€å‡ºã€‚(æˆ–è€…ç›´æ¥ctrl+x -> å¤§å†™çš„Y -> ENTER ->ctrl+x)(ctrl+sä¿å­˜+ctrl+xé€€å‡ºå³å¯)

â€‹				æœ€åæ›´æ–°è½¯ä»¶æº

```
sudo apt-get update
```

â€‹				å¦‚æœæœ€åæ˜¾ç¤ºã€Œ......Doneã€ï¼Œè¯´æ˜updateé¡ºåˆ©ç»“æŸï¼Œæ ‘è“æ´¾å·²ç»æˆåŠŸåˆ‡æ¢åˆ°æ¸…åå¤§å­¦é•œåƒç«™äº†ã€‚

> [Raspbian è½¯ä»¶ä»“åº“](https://mirrors.tuna.tsinghua.edu.cn/help/raspbian/)

+ å®‰è£…openCV-Python

```
sudo apt-get install python3-opencv
```

+ ç­‰å¾…å®‰è£…ç»“æŸåï¼Œç»§ç»­åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥æŒ‡ä»¤è¿›å…¥Pythonï¼Œimport openCVåŒ…ï¼Œå¹¶æŸ¥çœ‹å…¶ç‰ˆæœ¬ä¿¡æ¯ï¼š

  ```
  python
  
  import cv2
  
  cv2.__version__
  ```

  å¦‚æœå‘½ä»¤è¡Œé¡ºåˆ©è¿”å›openCVçš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œè¯´æ˜åœ¨æ ‘è“æ´¾ä¸­å®‰è£…openCVå¤§åŠŸå‘Šæˆï¼

### 12.17

##### 1. æ‰¹é‡å¤åˆ¶é…å¥½ç¯å¢ƒçš„æ ‘è“æ´¾ç³»ç»Ÿ

1. ä½¿ç”¨æ ¼å¼åŒ–å·¥å…·å°†sdå¡æ ¼å¼åŒ–ä¸ºFAT32æ ¼å¼,è‹¥å®¹é‡å¤§äº32GBåˆ™éœ€è¦åœ¨macOSç¯å¢ƒä¸‹æ ¼å¼åŒ–
2. ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„SD Card Copieræ‹·è´æ–‡ä»¶,ç­‰å¾…æ‹·è´å®Œæˆè¿›å…¥Terminal -> sudo raspi-config -> Advanced Options -> Expand FileSystem

å¤åˆ¶æœ‰å¯èƒ½ä¼šå‡ºç°çš„é—®é¢˜:

> é‡å¯ç”µè„‘ç‚¹å‡»æ‰“å¼€google chromeä¼šå‡ºç°ä¸€ä¸ªå°æ¡†ï¼Œæ˜¾ç¤ºå¦‚ä¸‹å†…å®¹ï¼š
> The profile appears to be in use by another Google Chrome process (8879) on another computer ("previous name of the computer").  Chrome has locked the profile so that it doesn't get corrupted.  If you are sure no other processes are using this profile, you can unlock the profile and relaunch Chrome.

è§£å†³æ–¹æ³•:

ç»ˆç«¯è¾“å…¥:

```
rm -rf ~/.config/chromium-browser/Singleton*
```

### 12.18

##### âœ¨important !!! : [Set up Clash Client on Your Raspberry Pi 4](https://kevinxli.medium.com/set-up-clash-client-on-your-raspberry-pi-4-54e77f7f7fe4) âœˆï¸

**æ ‘è“æ´¾ä¸ªäººå¸¸ç”¨å‘½ä»¤:**

```
env | grep -i proxy 
æŸ¥çœ‹ä»£ç†
export http_proxy="" 
å…³é—­ä»£ç†

sudo find / -iname "*opencv*" 
æœç´¢æŸä¸ªç›®å½•æˆ–è€…æ–‡ä»¶çš„ä½ç½®

export http_proxy=127.0.0.1:7890
export https_proxy=127.0.0.1:7890

export http_proxy=""
export https_proxy=""
export heeps_proxy=""
export no_proxy=""
æ‰¹é‡å…³é—­ä»£ç†

sudo apt-get update
sudo apt-get upgrade

 
ls -al /dev/ | grep video
æŸ¥çœ‹æœ‰å¤šå°‘ä¸ªæ‘„åƒå¤´


sudo apt-cache search libboost
æœç´¢æŸä¸ªåº“
sudo apt-get install libboost-all-dev 
å®‰è£…æ‰€æœ‰çš„

du -ah /home/pi | sort -rh | head -n 10
æŒ‰å ç”¨ç©ºé—´ä»å¤§åˆ°å°åˆ—å‡ºç”¨æˆ·ç›®å½•ä¸‹çš„10ä¸ªæ–‡ä»¶

sudo apt-get clean
sudo apt-get autoclean
sudo apt-get autoremove
æ¸…ç†ä¸éœ€è¦/æ—§ç‰ˆçš„è½¯ä»¶åŒ…

sudo du -ah /tmp | sort -rh | head -n 10
æŒ‰å ç”¨ç©ºé—´ä»å¤§åˆ°å°åˆ—å‡ºtmpç›®å½•ä¸‹çš„10ä¸ªæ–‡ä»¶
sudo rm -rf /tmp/*
æ¸…é™¤tmp

sudo rm -rf ~/.local/share/Trash/*
æ¸…é™¤åƒåœ¾ç®±

tar -cvf bkp_231221.tar.gz ./*
(å…ˆè¿›å…¥ç›®å½•)å°†æ­¤ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å‹ç¼©ä¸ºbkp_231221.tar.gz
tar -xvf my.tar.gz 
å°†my.tar.gzè§£å‹å±•å¼€
```

##### 1. ç¼–è¯‘äº†opencv3 Cppç¯å¢ƒ

### 12.19

##### 1. ç¡¬ä»¶(æ‘„åƒå¤´/è¡¥å…‰ç¯)å·²ç»è·‘é€š,å¼€å§‹è½¯ä»¶è®¾è®¡

### 12.20

##### 1. è½¯ä»¶è·‘é€šäº†,å¼€å§‹ç»„åˆ

##### 2. ä½¿ç”¨MOSå¼€å…³LEDè¦æ¯”ä¸‰æç®¡æ›´å¥½

##### 3. åˆ›å»ºäº†å¤‡ä»½æ–‡ä»¶

### 12.21

##### 1. å­¦ä¹ äº†é˜¿å¥‡-SWæ•™ç¨‹1-10è¯¾æ—¶(è¿›åº¦27%)

##### 2. è§£å†³äº†æ ‘è“æ´¾IRç”»é¢é‡‡æ ·å¤§å°çš„é—®é¢˜

##### 3. å®Œæˆäº†å¯åŠ¨ç”»é¢å¯¹æ¥

### 12.22

##### 1. md,å¼„åå±å¹•æ’çº¿(((((å¤©ç¾äººç¥¸å•Š!!!)))))

##### 2. è‡³å°‘æŠŠç»“æ„è£…å¥½äº†,ç­‰å±å¹•å’Œç”µå®¹æŒ‰é”®åˆ°è´§,å†æ‰‹ç„Šæ§åˆ¶æ¿

##### 3. ç»§ç»­å­¦ä¹ é˜¿å¥‡-SWæ•™ç¨‹11-12è¯¾æ—¶(è¿›åº¦30%)

### 12.23

##### 1. ä¼‘æ¯ä¸€å¤©

### 12.24

##### 1. å­¦ä¹ äº†SW(åˆ°æ‰‹æœºæ”¯æ¶)

##### 2. æµ‹è¯•äº†LGT8F328P,ä¸‹è½½è¦æŒ‰å¾ˆå¤šæ¬¡RST(ä¸å¥½ç”¨)

### 12.25

##### 1. AG32è·‘äº†ä¾‹ç¨‹

##### 2. æµ‹è¯•äº†ç”µæºæ¨¡å—,æœ€ç»ˆä½¿ç”¨ä¸¤å—å¹¶è”å®Œæˆ,å‡å‹æ¨¡å—çº¹æ³¢å¾ˆå¤§,å¹¶è”ç”µå®¹è§£å†³

### 12.26

##### 1. æ„Ÿå†’+å‘çƒ§,ä¼‘æ¯ä¸€å¤©

##### 2. å®Œæˆäº†C51æŠ¥å‘Šå’Œè¯¾è®¾

### 12.27

##### 1. æ„Ÿå†’åˆšæ¢å¤,ä»¥åè¦å½“å¿ƒç€å‡‰,ä¸è¦ç†¬å¤œ,å¤šè¿åŠ¨.æ³¨æ„èº«ä½“

##### 2. åˆè¯†äº†vivado zynq.è¦å‘½çš„å®‰è£…åŒ…ä½“ç§¯(30GB -> 78GB -> 295GB)

### 12.28~1.2

æ„Ÿå†’èººå°¸ä¸€ä¸ªç¤¼æ‹œäº†ï¼Œæ³¨æ„èº«ä½“ï¼

# 2024

## 1

### 1.3

##### 1. ç„Šæ¥äº†æŒ‰é”®ç”µè·¯ï¼Œæ§åˆ¶ç¯å…‰å’Œè¡¥å…‰çš„MOS

### 1.4

##### 1. æ¥äº†ä¸¤ä¸ªå•å­ï¼Œåˆ†åˆ«æ˜¯é—¨é”è®¾è®¡å’Œå°ç¯è®¾è®¡ 

### 1.5

##### 1.å®Œæˆäº†å°ç¯è®¾è®¡å’Œé—¨é”è®¾è®¡çš„å•å­

### 1.6

##### 1. è¿æ¥äº†å¾¡å‚çœ¼é•œçš„è§¦æ‘¸éƒ¨åˆ†ï¼Œè¿™ä¸ªå¼€å‘åˆ°åæœŸæ˜¯çœŸçš„å¯¸æ­¥éš¾è¡Œ

##### 1.å®Œæˆäº†1å•

### 1.8

##### 1.æ¥äº†è„‘ç”µæ³¢åˆºæ¿€é¡¹ç›®

### 1.9

##### 1.å®Œæˆäº†è„‘ç”µæ³¢åˆºæ¿€é¡¹ç›®ï¼Œå¹¶ä¸”æäº¤äº†ä»¿çœŸæ–‡ä»¶

### 1.10

##### 1.æ¥äº†300å…ƒçš„æ™ºèƒ½è¯­éŸ³ç”µæ¢¯è®¾è®¡

##### 2.å’Œæç³è€å¸ˆå¼€ä¼šï¼Œè·å¾—å¼€å‘æ¿å€Ÿç”¨æƒåˆ©

##### 3.è€å¸ˆå®‰æ’äº†è®¾è®¡å°è½¦å”®å–è´§æ¶å’Œå¤–å£³çš„ä»»åŠ¡

### 1.11

##### 1.å®Œæˆäº†ç”µæ¢¯è®¾è®¡å®ç‰©åˆ¶ä½œä¸ä»£ç æ³¨é‡Š

##### 2.å’Œ14423æ²Ÿé€šäº†çœ¼é•œç›¸å…³äº‹å®œï¼Œå»ºæ¨¡å®Œæˆæœ€åçš„å°å£å·¥ä½œ

### 1.12

##### 1.å¯„å‡ºäº†ç”µæ¢¯è®¾è®¡å®ç‰©

##### 2.æ¥äº†51å…‰æ„Ÿè“ç‰™åŒè‰²å°ç¯è®¾è®¡

##### 3.åˆæ­¥å®Œæˆçœ¼é•œå°å£è®¾è®¡ï¼Œå‡†å¤‡ç»†åŒ–

##### 4.ä¿®æ•´äº†å‡Œä¹±çš„å°è½¦ï¼Œå‡†å¤‡æ‰“å°è´§æ¶

### 1.13

##### 1.æ ‘è“æ´¾å¼€æœºè‡ªå¯åŠ¨å¯æ‰§è¡Œç¨‹åº

åœ¨æ¡Œé¢ä¸Šå»ºç«‹start_terminal.shæ–‡ä»¶ï¼Œç”¨äºè‡ªåŠ¨æ‰§è¡Œå¯æ‰§è¡Œæ–‡ä»¶

```
sudo nano /home/pi/Desktop/start_terminal.sh
```

å†™å…¥

```
#!/bin/sh
sleep 5
cd å¯æ‰§è¡Œæ–‡ä»¶ç›®å½•
lxterminal -e ./å¯æ‰§è¡Œæ–‡ä»¶å
```

ä¾‹å¦‚ï¼š

```
#!/bin/sh
sleep 5
cd /home/pi/Desktop/User_Workspace/build/exe
lxterminal -e ./demo_Misaka_14423
```

è¿›å…¥è‡ªå¯åŠ¨æ–‡ä»¶

```
sudo nano /etc/profile
```

æœ€åä¸€è¡Œæ·»åŠ å¯åŠ¨æŒ‡å®šå¯æ‰§è¡Œç¨‹åºçš„ä»£ç 

```
bash /home/pi/Desktop/start_terminal.sh &
```

**æ³¨ï¼šä¸åŠ â€œ&â€æ—¶ç¨‹åºé˜»å¡åœ¨æ­¤å¤„æ‰§è¡Œï¼Œä¸åŠ è½½æ¡Œé¢ã€‚**

### 1.24

##### 1. æ­£ç‚¹åŸå­Miniä¾‹ç¨‹æ— æ³•ä½¿ç”¨DAPLinkä¸‹è½½

è§£å†³æ–¹æ³•:

å°†LCD.cå†…ç¬¬639è¡Œçš„:

```
__HAL_AFIO_REMAP_SWJ_DISABLE();				//ç¦æ­¢JTAG
```

æ”¹ä¸º:

```
__HAL_AFIO_REMAP_SWJ_NOJTAG();
```

**æ³¨æ„ï¼šä¸€å®šè¦æ”¹å®Œï¼Œç¼–è¯‘ï¼Œå†ä¸‹è½½ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ— æ³•ä¸‹è½½ç¨‹åºï¼Œåªèƒ½ç”¨ä¸²å£ä¸‹è½½ä¸€éä»¥æ¸…é™¤SWJç¦æ­¢ï¼ï¼**

### 1.27

##### 1. STM32 Flash :Codeã€RO-dataã€RW-dataå’ŒZI-dataæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ

**Code** 	   ä»£è¡¨æ‰§è¡Œçš„ä»£ç ï¼Œç¨‹åºä¸­æ‰€æœ‰çš„å‡½æ•°ï¼Œå­˜å‚¨åœ¨romä¸­

**RO-data**  ä»£è¡¨åªè¯»æ•°æ®ï¼Œç¨‹åºä¸­æ‰€å®šä¹‰çš„å…¨å±€å¸¸é‡æ•°æ®ï¼Œå­˜å‚¨åœ¨romä¸­ï¼›

**RW-data** ä»£è¡¨å·²åˆå§‹åŒ–çš„è¯»å†™æ•°æ®ï¼Œç¨‹åºä¸­å®šä¹‰å¹¶ä¸”å·²åˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡ï¼Œæ—¢å­˜å‚¨åœ¨ram				 ä¸­ï¼Œä¹Ÿå­˜å‚¨åœ¨romä¸­ï¼ˆRW-dataå·²åˆå§‹åŒ–çš„æ•°æ®ä¼šå­˜å‚¨åœ¨romä¸­ï¼Œä¸Šç”µä¼šä»romæ¬ç§»è‡³ramä¸­				 çš„å…¨å±€åŒºçš„RW dataæ®µï¼Œæ³¨æ„ï¼šramä¸­çš„å…¨å±€åŒºåˆ†ä¸ºRW dataæ®µå’Œ BSS dataæ®µï¼ŒBSS dataä¿				 å­˜çš„æ˜¯æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œæœªåˆå§‹åŒ–çš„æ‰€æœ‰é™æ€å˜é‡(åŒ…æ‹¬å­å‡½æ•°é‡Œçš„é™æ€å˜é‡ï¼‰ï¼‰ï¼›

**ZI-data**   ä»£è¡¨å®šä¹‰äº†ä½†æœªåˆå§‹åŒ–çš„å¯è¯»å†™çš„å…¨å±€å˜é‡å’Œæœªåˆå§‹åŒ–çš„æ‰€æœ‰é™æ€å˜é‡ï¼ŒZIè‹±è¯­æ˜¯zero 				 initialï¼Œå°±æ˜¯ç¨‹åºä¸­ç”¨åˆ°çš„å˜é‡å¹¶ä¸”è¢«ç³»ç»Ÿåˆå§‹åŒ–ä¸º0çš„å˜é‡çš„å­—èŠ‚æ•°ï¼Œkeilç¼–è¯‘å™¨é»˜è®¤æ˜¯æŠŠä½ 				 æ²¡æœ‰åˆå§‹åŒ–çš„å˜é‡éƒ½èµ‹å€¼ä¸€ä¸ª0ï¼Œè¿™äº›å˜é‡åœ¨ç¨‹åºè¿è¡Œæ—¶æ˜¯ä¿å­˜åœ¨RAMä¸­çš„BSS dataæ®µã€‚

å› æ­¤ç¨‹åºå ç”¨ç©ºé—´å¦‚ä¸‹ï¼š

**ROMå¤§å°=Code+RO-data+RW-data**

**RAMå¤§å°=RW-data+ZI-data**

## 2

### 2.4

##### 1. Keilç¼–è¯‘åæ–‡ä»¶è½¬æ¢æˆBin

é…ç½®å†…User -> After Build -> Run#1 

```
$K\ARM\ARMCC\bin\fromelf.exe --bin --output=Bin\@L.bin !L
```

##### 2. ESP-01 æ­£å¸¸å¯åŠ¨æ–¹æ³•

VCC(3.3V) 
GND
CH_PD(**EN**)(**æ¥1Kä¸Šæ‹‰ç”µé˜»****,ä¸æ¥æ— æ³•å¯åŠ¨**)
TXD RXD(ä¸‹è½½)
RET(ä¸ç”¨å¯ä»¥æ‚¬ç©º)
GPIO2
GPIO0(ä¸‹è½½æ˜¯æ¥åœ°ï¼Œè°ƒè¯•æ—¶æ‚¬ç©º)

### 2.8

##### 1. æŸ¥äº†10ä¸ªå°æ—¶çš„é—®é¢˜-SGP30

é—®é¢˜çš„åŸå› æ˜¯å› ä¸ºSGP30æµ‹é‡æ—¶å·¥ä½œç”µæµ50mAï¼Œ8266å·¥ä½œç”µæµ200mAï¼Œä¾›ç”µä¸è¶³å¯¼è‡´SGP30å¡åœ¨åˆå§‹åŒ–......

### 2.21

##### 1. è§£å†³è‡ªå¸¦å±å¹•å¤§æœç²’

1. é€‰æ‹©harmony sans sc
2. é€‰æ‹©å­—å·10ï¼Œå…¨éƒ¨è®¾å®š

### 2.26

##### 1. ä½¿ç”¨Keilçš„#pragma æ¶ˆé™¤ç‰¹å®šè­¦å‘Š

```c
/* ä¾‹å¦‚ */
/*..\User\Tool\NFC\nfc.c(68): warning:  #550-D: variable "status_b"  was set but never used */
#pragma diag_suppress 177
#pragma diag_suppress 550
```

ç›´æ¥æ·»åŠ åˆ°å¤´æ–‡ä»¶å³å¯ï¼Œç¬”è€…ä½¿ç”¨æƒ…å†µä¸º

```
..\HARDWARE\rc522.c(1177): warning:  #111-D: statement is unreachable
```

åˆ™åœ¨å‡ºç°é—®é¢˜çš„cæ–‡ä»¶æ‰€åŒ…å«çš„.hæ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹è¯­å¥å³å¯

```C
#pragma diag_suppress 111
```

## 3

### 3.2

##### 1. è§£å†³ä¸²å£å›è°ƒåªæ‰§è¡Œä¸€æ¬¡

ä¸²å£ä½¿ç”¨æµç¨‹ï¼š

1ã€åˆå§‹åŒ–ä¸²å£ï¼Œå‹¾é€‰ä½¿èƒ½ä¸­æ–­ï¼ˆæ­¤å¤„CubeMXåªä¼šå¸®ä½ ç”Ÿæˆä¸­æ–­å‡½æ•°å’Œå®‰æ’NVICï¼Œå¹¶ä¸ä¼šå¸®ä½ æ‰“å¼€ä¸­æ–­ï¼‰

2ã€ä½¿ç”¨ä»¥ä¸‹å‡½æ•°ä½¿èƒ½ä¸­æ–­ï¼ˆåœ¨éé˜»å¡æ¨¡å¼ä¸‹æ¥æ”¶ä¸€å®šé‡çš„æ•°æ®ï¼‰

```C
HAL_StatusTypeDef HAL_UART_Receive_IT(UART_HandleTypeDef *huart, uint8_t *pData, uint16_t Size)
```

huart: æŒ‡å‘åŒ…å« UART_HandleTypeDef ç»“æ„çš„æŒ‡é’ˆ

pData: æŒ‡å‘æ•°æ®ç¼“å†²åŒºçš„æŒ‡é’ˆ

Size: è¦æ¥æ”¶çš„æ•°æ®é‡

æ³¨æ„ï¼šå¦‚æœè®¾ç½®è¦æ¥å—çš„æ•°æ®é‡ä¸º1ä¸ªå­—èŠ‚æ•°ï¼Œé‚£ä¹ˆ**å½“æ¥å—1ä¸ªå­—èŠ‚ä»¥åå°±ä¼šè¿›å…¥å›è°ƒå‡½æ•°**ã€‚
éœ€è¦é‡å®šä¹‰å›è°ƒå‡½æ•°

æ¥å—å›è°ƒå‡½æ•°å¦‚ä¸‹ï¼š

```C
void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart)
```

æ³¨æ„ï¼šå¦‚æœéœ€è¦å¤šæ¬¡è¿›å…¥å›è°ƒå‡½æ•°ï¼Œé‚£ä¹ˆå›è°ƒå‡½æ•°ä¸­ï¼Œ**éœ€è¦é‡æ–°ä½¿èƒ½æ¥å—ä¸­æ–­ã€‚å¦åˆ™åªèƒ½è¿›å…¥ä¸€æ¬¡**ã€‚

##### 2. ä¼˜ä¿¡ç”µå­å®¶çš„485è½¬æ¢æ¨¡å—

1. MAX485ï¼šè¾“å…¥è¾“å‡ºéƒ½åªæ”¯æŒ5V TTLï¼Œéœ€è¦è¿æ¥FTçš„GPIOå£ï¼ˆstm32çš„UASART GPIOéƒ½æ˜¯FTçš„ï¼‰

   éœ€è¦å¦å¤–ç‰µå¼•ä¸€æ¡GPIOæ§åˆ¶çº¿ï¼ŒåŒæ—¶è¿æ¥DEå’ŒREï¼Œå‘é€çš„æ—¶å€™éœ€è¦æ‰‹åŠ¨æ‹‰é«˜ï¼Œå‘é€å®Œæ¯•æ‹‰ä½å‡†å¤‡æ¥å—ï¼š

   ```c
   HAL_GPIO_WritePin(MAX485_Ctrl_GPIO_Port, MAX485_Ctrl_Pin, GPIO_PIN_SET);//æ‹‰é«˜
   HAL_UART_Transmit(&huart3, Inquire_data, sizeof(Inquire_data), 0XFFFF); //å‘é€æ•°ç»„é‡Œçš„å­—ç¬¦ä¸²æ•°æ®
   HAL_GPIO_WritePin(MAX485_Ctrl_GPIO_Port, MAX485_Ctrl_Pin, GPIO_PIN_RESET);//æ‹‰ä½ï¼Œå‡†å¤‡åé¢çš„æ¥æ”¶
   ```

2. TTLè½¬RS485æ¨¡å—

   TXD/RXDä¸éœ€è¦é”™ä½è¿æ¥ï¼ŒæŒ‰ç…§æ¨¡å—èƒŒé¢çš„ä¸å°å¤„ç†ï¼Œç›´æ¥:

   TXD(MODEL)-TXD(MCU)

   RXD(MODEL)-RXD(MCU)

### 3.5

##### 1. vscodeç¯å¢ƒå†…çš„cortex-debug

launch.json @ daplink

```json
{
    // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ 
    // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚
    // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Cortex Debug",
            "showDevDebugOutput": "raw",
            "cwd": "${workspaceFolder}",
            "executable": "${workspaceFolder}\\USER\\build\\Target 1\\ProjectMiniSTM32.axf",
            "request": "launch",
            "type": "cortex-debug",
            "runToEntryPoint": "main",
            "servertype": "openocd",
            "configFiles": [
                "interface/cmsis-dap.cfg",
                "target/stm32f1x.cfg"
            ],

        }
    ]
}
```

### 3.6

##### 1. CLion + arm-none-eabi-gccç¼–è¯‘æ–‡ä»¶è¿‡å¤§

**è§£å†³æ–¹æ³•**ï¼šåœ¨CMakeLists.txtä¸­åŠ å…¥

```
add_link_options(--specs=nano.specs)
```

### 3.7

##### 1. CLionæ–°å»ºå·¥ç¨‹æŠ¥é”™

æŠ¥é”™å†…å®¹å¦‚ä¸‹ï¼š

```
sbrkr.c:(.text._sbrk_r+0xc): undefined reference to `_sbrk'
```

åŸå› ï¼šARM gccé»˜è®¤æ˜¯ä½¿ç”¨startfilesï¼Œå¯¼è‡´è°ƒç”¨åº•å±‚æœªå®ç°çš„æŸäº›å‡½æ•°ï¼ˆmallocã€ freeã€ sprintfâ€¦ï¼‰æ—¶ï¼Œç¼–è¯‘é“¾æ¥å¤±è´¥ã€‚

æ¨å¹¿ï¼šå¦‚æœç¼–è¯‘æŠ¥undefined reference to `_sbrk' `_read' `_write' `_lseek' `_isatty' `_fstat' ä¹Ÿæ˜¯ç›¸åŒåŸå› ã€‚

**è§£å†³æ–¹æ³•**ï¼šåœ¨CMakeLists.txtä¸­åŠ å…¥

```
add_link_options(--specs=nosys.specs)
```

### 3.10

##### 1. forå¾ªç¯ä¸­æœ€åä¸€ä¸ªå‚æ•°ä½¿ç”¨++iè¿˜æ˜¯i++

chatgptçš„å›ç­”ï¼š

However, it's generally considered good practice to use `++i` in `for` loops where the value of the variable being incremented is not needed after the increment, as it can sometimes result in slightly more efficient code due to avoiding the creation of a temporary variable for the pre-increment operation.

æ‰€ä»¥å°½å¯èƒ½åœ°ä½¿ç”¨`++i`è€Œå¹¶é`i++`

### 3.18

##### 1. å…³äºDebugger

1. å¯ä»¥ä½¿ç”¨ç¤ºæ³¢å™¨ç›´æ¥æµ‹é‡SWCLKå¼•è„šè§‚å¯Ÿé€Ÿåº¦

2. Keilä¸­DAPLinkæ˜¾ç¤ºçš„æœ€é«˜(10Mhz)æ˜¯å‡çš„ï¼Œä½†æ˜¯ST-Linkçš„4MHzæ˜¯çœŸçš„

3. EIDEä¸­ç”±äºåœ¨WoAç¯å¢ƒä¸‹æ— æ³•å®‰è£…ST-Link GDB Serverï¼Œæ•…æ— æ³•ä½¿ç”¨ST-Linkè°ƒè¯•ï¼Œä½†é€šè¿‡Openocdå¯ä»¥æ”¯æŒST-Linkå’ŒDAPLink

4. åœ¨EIDEä¸­ï¼Œä½¿ç”¨Openocdæ—¶å€™è®¾ç½®é€Ÿåº¦ï¼š

   ```
   ${openocd_path}\share\openocd\scripts\target\ä½ çš„ç›®æ ‡èŠ¯ç‰‡å‹å·.cfg
   ```

   ä¸­æœ‰å¦‚ä¸‹ä»£ç ï¼š

   ```
   # JTAG speed should be <= F_CPU/6. F_CPU after reset is 8MHz, so use F_JTAG = 1MHz
   adapter speed 1000
   ```

   å¯ä»¥å°†1kæ”¹æˆ10k(å•ä½æ˜¯kHz)
   

##### 2. Cortex-Debug

1. ä½¿ç”¨daplinkçš„launch.json

   ```json
   {
       // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ 
       // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚
       // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387
       "version": "0.2.0",
       "configurations": [
           {
               "name": "Cortex Debug",
               "showDevDebugOutput": "raw",
               "cwd": "${workspaceFolder}",
               "executable": "${workspaceFolder}\\USER\\build\\Target 1\\ProjectMiniSTM32.axf",
               "request": "launch",
               "type": "cortex-debug",
               "runToEntryPoint": "main",
               "servertype": "openocd",
               "configFiles": [
                   "interface/cmsis-dap.cfg",
                   "target/stm32f1x.cfg"
               ],
   
           }
       ]
   }
   ```

   2. ä½¿ç”¨ST-Linkçš„launch.json

      ```json
      {
          // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ 
          // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚
          // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387
          "version": "0.2.0",
          "configurations": [
              {
                  "name": "Cortex Debug",
                  "showDevDebugOutput": "raw",
                  "cwd": "${workspaceFolder}",
                  "executable": "D:\\Folder\\EE\\SimpleDev\\ExperimentSPACE\\OLED-DrawAnonANDTomori-ITM_SendChar\\EIDE_Project\\build\\Target 1\\Project.elf",
                  "request": "launch",
                  "type": "cortex-debug",
                  "runToEntryPoint": "main",
                  "servertype": "openocd",
                  "configFiles": [
                      "interface/stlink.cfg",
                      "target/stm32f1x.cfg"
                  ],
      
              }
          ]
      }
      ```

      

##### 3. ITMæ‰“å°

1.æš‚æ—¶åªå‘ç°èƒ½åœ¨KEILä¸­ä½¿ç”¨

åœ¨å·¥ç¨‹ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š

```c
#include "stdio.h"
//////////////////////////////////////////////////////////////////
//åŠ å…¥ä»¥ä¸‹ä»£ç ,æ”¯æŒprintfå‡½æ•°,è€Œä¸éœ€è¦é€‰æ‹©use MicroLIB
#if 0
#pragma import(__use_no_semihosting)
//æ ‡å‡†åº“éœ€è¦çš„æ”¯æŒå‡½æ•°
struct __FILE
{
    int handle;

};

FILE __stdout;
//å®šä¹‰_sys_exit()ä»¥é¿å…ä½¿ç”¨åŠä¸»æœºæ¨¡å¼
void _sys_exit(int x)
{
    x = x;
}
//é‡å®šä¹‰fputcå‡½æ•°
int fputc(int ch, FILE *f)
{
    ITM_SendChar((u8)ch);
    return ch;
}
#endif
```

### 3.21

##### 1. åµŒå…¥å¼å¼€å‘ä¸­åç¼€çš„é‡è¦æ€§

**ä¾‹1**

```c
float f = 1.234;
```

è‹¥ä¸å†™åç¼€ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œå³ä¾§å¸¸æµ®ç‚¹æ•°é»˜è®¤æ˜¯doubleç±»å‹çš„ï¼Œå½“1.234èµ‹å€¼ç»™fçš„æ—¶å€™ï¼Œå­˜åœ¨å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚
æ•°æ®è¾ƒå°æ—¶ä¸ä¼šå‘ç”Ÿé”™è¯¯ï¼Œè‹¥æ•°æ®è¾ƒå¤§åˆ™ä¼šäº§ç”Ÿæº¢å‡ºï¼Œç»“æœä¼šå‡ºç°éé¢„æœŸå€¼ã€‚æ‰€ä»¥åœ¨ä¹¦å†™æ—¶ï¼Œæœ€å¥½åœ¨å¸¸é‡çš„æœ«å°¾åŠ åç¼€è¿›è¡Œä¸¥æ ¼çš„é™åˆ¶ã€‚

æ­£ç¡®åº”è¯¥å¦‚ä¸‹ï¼š

```c
float f = 1.234f;
```

**ä¾‹2**

```c
typedef enum {
  HAL_OK = 0x0U,
    ...
} HAL_StatusTypeDef
```

å³ä¾§é»˜è®¤ä¸ºæœ‰ç¬¦å·INTç±»å‹ã€‚è‹¥åŠ å…¥Uåˆ™ä»£è¡¨æ— ç¬¦å·æ•´å‹ï¼Œè‹¥ä¸ºULåˆ™æ˜¯æ— ç¬¦å·é•¿æ•´å‹å˜é‡

### 3.27

##### 1. C++æŒ‡é’ˆå­¦ä¹ 

```C++
// å¸¸é‡æŒ‡é’ˆï¼š
const int *p = &a;
// ç‰¹ç‚¹ï¼šæŒ‡é’ˆçš„æŒ‡å‘å¯ä»¥ä¿®æ”¹ï¼ŒæŒ‡å‘çš„å€¼ä¸èƒ½ä¿®æ”¹
// æŒ‡é’ˆå¸¸é‡ï¼š
int * const p = &a;
// ç‰¹ç‚¹ï¼šæŒ‡é’ˆçš„æŒ‡å‘ä¸èƒ½ä¿®æ”¹ï¼ŒæŒ‡å‘çš„å€¼å¯ä»¥ä¿®æ”¹
// éƒ½ä¸èƒ½ä¿®æ”¹çš„æƒ…å†µ
const int * const p = &a;
```

##### 2. Cç¼–è¯‘è¿‡ç¨‹è¯¦ç»†è§£é‡Š

1. é¢„ç¼–è¯‘ï¼šé¢„å¤„ç†å™¨å¯¹Cç¨‹åºè¿›è¡Œä¸€äº›é¢„å¤„ç†å·¥ä½œï¼Œä¾‹å¦‚å¯¹å®å®šä¹‰çš„å˜é‡è¿›è¡Œæ›¿æ¢
   - å°†æ‰€æœ‰çš„#defineåˆ é™¤ï¼Œå¹¶å±•å¼€æ‰€æœ‰çš„å®å®šä¹‰
   - å¤„ç†æ‰€æœ‰çš„é¢„ç¼–è¯‘æŒ‡ä»¤ï¼Œä¾‹å¦‚#if #ifdef #else #elif #endif
   - å¤„ç†#includeé¢„ç¼–è¯‘æŒ‡ä»¤ï¼Œå°†è¢«åŒ…å«çš„æ–‡ä»¶æ’å…¥åˆ°é¢„ç¼–è¯‘æŒ‡ä»¤çš„ä½ç½®
   - æ·»åŠ è¡Œå·ä¿¡æ¯/æ–‡ä»¶åä¿¡æ¯ï¼Œä¾¿äºè°ƒè¯•
   - åˆ é™¤æ‰€æœ‰çš„æ³¨é‡Š
   - ä¿ç•™æ‰€æœ‰çš„#pragmaç¼–è¯‘æŒ‡ä»¤ï¼Œå› ä¸ºè¯¥æŒ‡ä»¤ç»å¸¸ç”¨æ¥è®¾å®šç¼–è¯‘å™¨çš„çŠ¶æ€æˆ–æ˜¯æŒ‡ç¤ºç¼–è¯‘å™¨å®Œæˆä¸€äº›ç‰¹å®šçš„åŠ¨ä½œ
   - **æœ€åç”Ÿæˆ.iæ–‡ä»¶**
2. ç¼–è¯‘ï¼šç¼–è¯‘å™¨å°†Cè¯­è¨€ç¿»è¯‘æˆæ±‡ç¼–ç¨‹åº
   - æ‰«æ/è¯­æ³•åˆ†æ/è¯­ä¹‰åˆ†æ/æºä»£ç ä¼˜åŒ–/ç›®æ ‡ä»£ç ç”Ÿæˆ/ç›®æ ‡ä»£ç ä¼˜åŒ–
   - ç”Ÿæˆæ±‡ç¼–ä»£ç 
   - æ±‡æ€»ç¬¦å·
   - ç”Ÿæˆ.sæ–‡ä»¶
3. æ±‡ç¼–ï¼šæ±‡ç¼–è¯­è¨€é€šè¿‡æ±‡ç¼–å™¨ç¼–è¯‘æˆå¯é‡å®šä½ç›®æ ‡ç¨‹åº.oï¼Œä¸ä¹‹ç›¸åç§°ä½œåæ±‡ç¼–
   - æ ¹æ®æ±‡ç¼–æŒ‡ä»¤å’Œç‰¹å®šå¹³å°ï¼Œå°†æ±‡ç¼–æŒ‡ä»¤ç¿»è¯‘æˆäºŒè¿›åˆ¶å½¢å¼
   - åˆå¹¶å„ä¸ªSectionï¼Œåˆå¹¶ç¬¦å·è¡¨
   - ç”Ÿæˆ.oæ–‡ä»¶
4. é“¾æ¥ï¼šå°†ç›®æ ‡æ–‡ä»¶å’Œæ‰€éœ€çš„åº“å‡½æ•°ç”¨é“¾æ¥å™¨è¿›è¡Œé“¾æ¥
   - åˆå¹¶å„ä¸ª.objæ–‡ä»¶çš„sectionï¼Œåˆå¹¶ç¬¦å·è¡¨ï¼Œè¿›è¡Œç¬¦å·è§£æ
   - ç¬¦å·åœ°å€é‡å®šä¹‰
   - ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶

##### 3. Cè¯­è¨€å·©å›ºç¬”è®°

- å˜é‡çš„å­˜å‚¨åŒºåŸŸ

  ç¨‹åºçš„å±€éƒ¨å˜é‡å­˜åœ¨äº**æ ˆåŒº**ï¼ˆå±äºåŠ¨æ€å­˜å‚¨åŒºï¼‰ï¼Œå…¨å±€å˜é‡å’Œstaticä¿®é¥°çš„å˜é‡å­˜åœ¨äº**é™æ€å­˜å‚¨åŒº**ï¼ŒåŠ¨æ€ç”³è¯·çš„æ•°æ®ï¼ˆä¾‹å¦‚ä½¿ç”¨mallocå‡½æ•°åˆ†é…çš„å†…å­˜ï¼‰å­˜åœ¨äº**å †åŒº**ï¼ˆä¹Ÿæ˜¯å±äºåŠ¨æ€å­˜å‚¨åŒºï¼‰ä¸­ã€‚

- åŠ¨æ€å­˜å‚¨åŒºã€é™æ€å­˜å‚¨åŒº

  åŠ¨æ€å­˜å‚¨åŒºå­˜æ”¾å‡½æ•°çš„å½¢å‚ã€æ²¡æœ‰ç”¨staticå…³é”®å­—å£°æ˜çš„å˜é‡ã€å‡½æ•°è°ƒç”¨æ—¶å€™çš„ç°åœºä¿æŠ¤å’Œè¿”å›åœ°å€
  å‡½æ•°è°ƒç”¨å¼€å§‹æ—¶åˆ†é…åŠ¨æ€å­˜å‚¨ç©ºé—´ï¼Œå‡½æ•°ç»“æŸæ—¶é‡Šæ”¾è¿™äº›ç©ºé—´ã€‚å¦‚æœåœ¨ä¸€ä¸ªç¨‹åºä¸­ä¸¤æ¬¡è°ƒç”¨åŒä¸€å‡½æ•°ï¼Œè€Œåœ¨æ­¤å‡½æ•°ä¸­å®šä¹‰äº†å±€éƒ¨å˜é‡ï¼Œåœ¨ä¸¤æ¬¡è°ƒç”¨æ—¶åˆ†é…ç»™è¿™äº›å±€éƒ¨å˜é‡çš„å­˜å‚¨ç©ºé—´çš„åœ°å€å¯èƒ½æ˜¯ä¸ç›¸åŒçš„ã€‚

  è¿™äº›å­˜å‚¨ç©ºé—´çš„åˆ†é…å’Œé‡Šæ”¾æ˜¯ç”±ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶ç³»ç»Ÿæ¥ç®¡ç†çš„ï¼Œåœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä»£ç æ¥ä¸ºå±€éƒ¨å˜é‡åˆ†é…ç©ºé—´ï¼Œå¹¶åœ¨å‡½æ•°è¿”å›æ—¶è‡ªåŠ¨é‡Šæ”¾ã€‚**è¿™äº›åˆ†é…å’Œé‡Šæ”¾çš„æ“ä½œæ˜¯ç”±ç¼–è¯‘å™¨æ ¹æ®å‡½æ•°è°ƒç”¨çš„ä¸Šä¸‹æ–‡å’Œæ‰§è¡Œæµç¨‹æ¥è¿›è¡Œçš„**

- å˜é‡æ”¾åœ¨å †åŒºå’Œæ ˆåŒºçš„åŒºåˆ«ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹æ–¹é¢ï¼š

  ç”Ÿå‘½å‘¨æœŸï¼šå †åŒºçš„å˜é‡åœ¨åŠ¨æ€ç”³è¯·å†…å­˜æ—¶éœ€è¦æ‰‹åŠ¨é‡Šæ”¾ï¼ˆä¾‹å¦‚è°ƒç”¨freeå‡½æ•°ï¼‰

  å†…å­˜ç®¡ç†ï¼šå †åŒºçš„å†…å­˜ç”±ç¨‹åºå‘˜æ‰‹åŠ¨ç®¡ç†ï¼ŒåŒ…æ‹¬ç”³è¯·å’Œé‡Šæ”¾ï¼Œè€Œæˆ˜åŒºçš„å†…å­˜ç”±ç¼–è¯‘å™¨è‡ªåŠ¨ç®¡ç†

  å†…å­˜ç©ºé—´ï¼šå †åŒºçš„å†…å­˜ç©ºé—´è¾ƒå¤§ï¼Œå—é™äºç³»ç»Ÿå¯ç”¨çš„è™šæ‹Ÿå†…å­˜å¤§å°ï¼Œè€Œæ ˆåŒºçš„å†…å­˜ç©ºé—´è¾ƒå°ï¼Œå—é™äºç³»ç»Ÿçš„æ ˆå¤§å°

  è®¿é—®æ–¹å¼ï¼šå †åŒºçš„å˜é‡é€šè¿‡æŒ‡é’ˆè¿›è¡Œè®¿é—®ï¼Œè€Œæ ˆåŒºçš„å˜é‡å¯ä»¥ç›´æ¥é€šè¿‡å˜é‡åè¿›è¡Œè®¿é—®

  ä½œç”¨èŒƒå›´ï¼šå †åŒºçš„å˜é‡çš„ä½œç”¨èŒƒå›´å¯ä»¥è·¨è¶Šå¤šä¸ªå‡½æ•°ï¼Œè€Œæ ˆåŒºçš„å˜é‡çš„å·¦å³èŒƒå›´ä»…é™äºæ‰€å±çš„å‡½æ•°

- æ ˆä¸å †çš„åŒºåˆ«ï¼š

  ä»ç”³è¯·æ–¹å¼/ç”³è¯·å¤§å°/ç”³è¯·æ•ˆç‡ç®€å•æ¯”è¾ƒï¼šæ ˆçš„ç©ºé—´ç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨åˆ†é…/é‡Šæ”¾ï¼Œå †çš„å†…å­˜æ‰‹åŠ¨åˆ†é…/é‡Šæ”¾ã€‚
  æ ˆçš„ç©ºé—´æœ‰é™ã€‚å †æ˜¯å¾ˆå¤§çš„è‡ªç”±å­˜å‚¨åŒºï¼Œæ ˆçš„ç”³è¯·æ•ˆç‡é«˜ï¼Œå †çš„ç”³è¯·æ•ˆç‡ä½

##### 4. æ•°ç»„å’ŒæŒ‡é’ˆå’Œåœ°å€

1. æ•°ç»„å’ŒæŒ‡é’ˆçš„å…³ç³»
   - æ•°ç»„ååœ¨å¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥è¢«è§£é‡Šä¸ºæŒ‡å‘æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°ç»„åæœ¬èº«å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¸¸é‡ï¼ŒæŒ‡å‘ç´ ç»„é¦–å…ƒç´ çš„åœ°å€
   - æ•°ç»„åå¯ä»¥åƒæŒ‡é’ˆä¸€æ ·è¿›è¡Œç®—æ•°è¿ç®—
   - å¯¹æ•°ç»„åè§£å¼•ç”¨å¯ä»¥å¾—åˆ°æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼

2. æ•°ç»„çš„æˆå‘˜åœ°å€æ˜¯å¦è¿ç»­
   - æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€æ¬¡ä½¿ç”¨`malloc`ç”³è¯·å¤šä¸ªï¼ˆæ•°ç»„ï¼‰åœ°å€çš„æƒ…å†µã€‚ç»“æœè¡¨æ˜ï¼Œè¿™äº›åœ°å€æ˜¯**è¿ç»­çš„**
   
   - ç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¤šæ¬¡ä½¿ç”¨`malloc`ç”³è¯·åœ°å€çš„æƒ…å†µã€‚æˆ‘ä»¬å°†æ¯æ¬¡ç”³è¯·çš„å†…å­˜ç©ºé—´åœ°å€ä¸ä¸Šä¸€å—åœ°å€
   
     ï¼ˆ`p-1`ï¼‰è¿›è¡Œæ¯”è¾ƒã€‚ç»“æœæ˜¾ç¤ºï¼Œè¿™äº›åœ°å€å¹¶ä¸æ˜¯è¿ç»­çš„ã€‚å®é™…ä¸Šï¼Œç³»ç»Ÿåœ¨æ¯æ¬¡è°ƒç”¨`malloc`æ—¶ï¼Œä¼šä»ç›¸éš”å›ºå®šé•¿åº¦çš„ä½ç½®å¼€å§‹åˆ†é…å†…å­˜ã€‚
     è¿™æ˜¯å› ä¸ºæ¶‰åŠåˆ°**å†…å­˜è¾¹ç•Œå¯¹é½**çš„é—®é¢˜ã€‚è™½ç„¶åœ¨è™šæ‹Ÿåœ°å€ç©ºé—´ä¸Šï¼Œä½¿ç”¨`malloc`åˆ†é…çš„å†…å­˜ç©ºé—´æ˜¯è¿ç»­çš„ï¼Œä½†åœ¨ç‰©ç†å†…å­˜ç©ºé—´ä¸Šå¯èƒ½æ˜¯ä¸è¿ç»­çš„ã€‚
     å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œæ‰€æœ‰å†…å­˜éƒ½æ˜¯è™šæ‹Ÿçš„ï¼Œç¨‹åºå¹¶ä¸ç›´æ¥è¿è¡Œåœ¨ç‰©ç†å†…å­˜ä¸Šï¼Œè€Œæ˜¯è¿è¡Œåœ¨è™šæ‹Ÿå†…å­˜ä¸Šï¼Œç„¶åå†è½¬æ¢åˆ°ç‰©ç†å†…å­˜ã€‚
     è™šæ‹Ÿå†…å­˜åœ°å€åˆ°ç‰©ç†å†…å­˜åœ°å€çš„è½¬æ¢æ—¶ï¼Œç”±äºç›¸é‚»çš„ä¸¤ä¸ªå­—èŠ‚å¯èƒ½ä½äºä¸åŒçš„ç‰©ç†åˆ†é¡µä¸Šï¼Œæ‰€ä»¥å¹¶ä¸ä¸€å®šæ˜¯è¿ç»­çš„ã€‚

##### 5. å˜é‡ä¿®é¥°

1. auto

   å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œè‹¥ä¸ºæŒ‡å®šå£°æ˜ä¸ºstaticï¼Œéƒ½æ˜¯åŠ¨æ€åœ°åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œæ•°æ®å­˜å‚¨åœ¨åŠ¨æ€å­˜å‚¨åŒºä¸­ï¼Œå½¢å‚å’Œå®šä¹‰çš„å±€éƒ¨å˜é‡éƒ½å±äºæ­¤ç±»ã€‚è¿™ç±»å±€éƒ¨å˜é‡ç§°ä¸º**è‡ªåŠ¨å˜é‡**

   ```C
   auto int i= 0;
   // å¤§å¤šæ•°æƒ…å†µä¸‹autoå¯ä»¥çœç•¥ï¼Œä¸å†™autoåˆ™éšå«æŒ‡å®šä¸ºâ€œè‡ªåŠ¨å­˜å‚¨ç±»åˆ«â€
   int i = 0;
   ```

   
## 4
### 4.4

##### 1. åµŒå…¥å¼è¯¾ç¨‹ä¹¦æœ¬æ‘˜æŠ„

1. å†¯è¯ºä¾æ›¼æ¶æ„å’Œå“ˆä½›æ¶æ„

   **ä¸»è¦åŒºåˆ«åœ¨æŒ‡ä»¤çš„å­˜æ”¾ä½ç½®å’Œè¯»å–æ–¹å¼**

   å†¯è¯ºä¾æ›¼æ¶æ„çš„è®¡ç®—æœºï¼Œå–æŒ‡ä»¤å’Œå–æ“ä½œæ•°é€šè¿‡æ—¶åˆ†å¤ç”¨çš„æ–¹å¼åœ¨åŒä¸€æ€»çº¿ä¸Šä¼ è¾“

   å“ˆä½›æ¶æ„æ˜¯ä¸€ç§å°†ç¨‹åºæŒ‡ä»¤å’Œæ•°æ®åˆ†å¼€å­˜å‚¨çš„å­˜å‚¨å™¨ç»“æ„ã€‚å¹¶ä¸”ä½¿ç”¨ä¸¤æ¡ç‹¬ç«‹çš„æ€»çº¿åˆ†åˆ«ä¸CPUï¼Œè¿›è¡Œä¿¡æ¯äº¤æ¢

2. **å°ç«¯å°±æ˜¯ä½ä½å¯¹åº”ä½åœ°å€ï¼Œé«˜ä½å¯¹åº”é«˜åœ°å€ï¼Œå¤§ç«¯æ˜¯é«˜ä½å¯¹åº”ä½åœ°å€**

### 4.15

##### 1. HardFault_Handler()

99%æ˜¯ç”±äºé‡æŒ‡é’ˆå’Œéæ³•å†…å­˜è®¿é—®å¯¼è‡´çš„ã€‚åœ¨HardFaultå‡½æ•°å†…æ·»åŠ ä¸€å¥ `asm("bx lr");`, å¹¶åœ¨æ­¤å¤„åŠ ä¸Šæ–­ç‚¹ã€‚å½“ä»£ç è¿è¡Œè‡³æ­¤å¤„æ—¶ï¼Œé€‰æ‹©è·³å‡ºï¼Œç¨‹åºä¼šè·³è½¬å›å‡ºé”™ä¹‹å‰æœ€åä¸€å¥æ‰§è¡Œçš„è¯­å¥ã€‚

æŸ¥çœ‹ä½ æ˜¯å¦åœ¨å‡ºé”™å‰çš„æœ€åä¸€æ¬¡æ“ä½œä¸­è®¿é—®äº†éæ³•åœ°å€æˆ–ä½¿ç”¨äº†å·²ç»è¢«ææ„çš„æŒ‡é’ˆã€‚ `memcpy`çš„ç›®æ ‡åœ°å€å’Œæºåœ°å€é‡åˆä¹Ÿå¯èƒ½å¼•å‘ç¡¬ä»¶é”™è¯¯ã€‚å¦å¤–ï¼Œå¦‚æœä½¿ç”¨æŒ‡é’ˆè®¿é—®äº†ä¸€ä¸ªéå¯¹é½åœ°å€ï¼ˆè¯·å‚è€ƒ__pack()ç›¸å…³çš„è¯´æ˜ï¼‰ï¼Œè¿™æ˜¯CMSISæ¶æ„ä¸­ä¸å…è®¸çš„ï¼ˆæœ‰äº›æ¶æ„å¯ä»¥ä¿®æ”¹å¯åŠ¨æ–‡ä»¶ä½¿å…¶æ”¯æŒï¼‰ï¼›ä¾‹å¦‚ä½ æœ‰å››ä¸ªuint8ç±»å‹çš„æ•°æ®è¢«å­˜å‚¨åœ¨0x03-0x07çš„åœ°å€å†…ï¼Œè¿™æ—¶å€™ä½ é€šè¿‡å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä»¥floatçš„æ–¹å¼è¯»å–è¿™å››ä¸ªå­—èŠ‚ï¼Œå°±ä¼šå‘ç”Ÿéå¯¹é½è®¿é—®ã€‚ è™½ç„¶ç»“æ„ä½“å¯ä»¥é€šè¿‡ `__pack(1)`æ¥å‹ç¼©ï¼Œç¼–è¯‘å™¨ä¼šå¯¹ç»“æ„ä½“å˜é‡è¿›è¡Œå¤„ç†ï¼Œåœ¨è¯»å–éå¯¹é½å­—æ®µæ—¶åˆ†åˆ«è¯»å–æ‹†åˆ†çš„ä¸¤ä¸ªéƒ¨åˆ†å†è¿›è¡Œåˆå¹¶ï¼Œä»è€Œæ”¯æŒéå¯¹é½è®¿é—®ï¼›ä½†å‰è¿°çš„è¡Œä¸ºå´æ˜¯æœªå®šä¹‰çš„ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘ä»£ç çš„æ—¶å€™å¹¶ä¸çŸ¥é“ä½ ä¼šä»¥åˆ†å¼€çš„æ–¹å¼è®¿é—®è¿™æ®µå†…å­˜ï¼Œå³ä½¿çŸ¥é“ï¼Œä»–ä¹Ÿæ— æ³•é¢„æµ‹æ ˆä¸Šåˆ†é…çš„ç©ºé—´æ˜¯å¦èƒ½å¯¹é½ã€‚

å¸¸è§çš„é”™è¯¯è¿˜åŒ…æ‹¬ä½¿ç”¨æœªåˆå§‹åŒ–çš„æŒ‡é’ˆï¼ˆå†…éƒ¨å¯èƒ½æ—¶åƒåœ¾å€¼ï¼ŒæŒ‡å‘æœªçŸ¥çš„åœ°å€ï¼‰å’Œåˆå§‹åŒ–ä¸ºNULLçš„æŒ‡é’ˆï¼ˆæŒ‡å‘0x00åœ°å€ï¼‰ã€‚`free`ä¸€ä¸ªæŒ‡é’ˆä¸¤æ¬¡ä¹Ÿå¯èƒ½å¯¼è‡´é”™è¯¯ã€‚

## 5
### 5.19

##### 1. ç§»æ¤u-bootæ—¶ç¼–è¯‘å‡ºé”™

1. ç¬¬ä¸€æ¬¡æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹:

   > include/config.h:7:22: fatal error: configs/.h: No such file or directory
   >  #include <configs/.h>

   ç»æ£€æŸ¥å‘ç°è¯¥å¤´æ–‡ä»¶ç”Ÿæˆæœ‰é”™è¯¯ï¼Œç³»ç»Ÿç”Ÿæˆè¿™ä¸ªå¤´æ–‡ä»¶æ—¶æœªæŠ¥é”™"ç¼ºå°‘æ–‡ä»¶"ï¼Œä½†è¿™ä¸ªæ–‡ä»¶æ ¼å¼**æ˜¾ç„¶ä¸æ­£ç¡®**ï¼Œè¯¥æ–‡ä»¶æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ç¼–è¯‘è¿‡ç¨‹æ–‡ä»¶ï¼Œç”Ÿæˆæ—¶ç¼ºå°‘äº†æŸäº›å‚æ•°ï¼Œè§‚å¯Ÿç¬¬å››è¡Œå®å®šä¹‰ï¼Œç¼ºå°‘æ¿è½½æ–‡ä»¶å®šä¹‰ç›®å½•ï¼Œå›åˆ°æ¿è½½æ–‡ä»¶é‚£é‡Œæ‰¾åŸå› ï¼š

   åœ¨`board/freescale/mx6ull_alientek_emmc/Kconfig`ä¸‹ï¼Œ

   ç»æ£€æŸ¥ç¡®å®æœªä¿®æ”¹æœ¬æ–‡ä»¶ä¸ºalientekçš„ç‰ˆæœ¬ï¼Œä¿®æ”¹åé—®é¢˜è§£å†³ã€‚

2. ç¬¬äºŒæ¬¡æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š

   > arm-linux-gnueabihf-ld.bfd:u-boot.lds:1: ignoring invalid character `#' in expression
   > arm-linux-gnueabihf-ld.bfd:u-boot.lds:1: syntax error
   > make: *** [Makefile:1171: u-boot] Error 1

   ç»æ£€æŸ¥å‘ç°åœ¨ä¹‹å‰ä¿®æ”¹`include/configs/mx6ull_alientek_emmc.h`æ—¶ï¼Œå‘ç°ä»¥ä¸‹ä»£ç ä½ç½®ï¼š

   ```c
   // #ifndef __MX6ULLEVK_CONFIG_H
   // #define __MX6ULLEVK_CONFIG_H
   
   #ifndef __MX6ULL_ALIENTEK_EMMC_CONFIG_H
   #define __MX6ULL_ALIENTEK_EMMC_CONFIG_H
   ```

   ä¸Šé¢**åŒæ–œæ **çš„ä½¿ç”¨å¯¼è‡´é”™è¯¯çš„äº§ç”Ÿï¼Œå¦‚éœ€æ³¨é‡Šè¯·åŠ¡å¿…ä¸¥æ ¼ä½¿ç”¨æ–œæ +æ˜Ÿå·çš„ç»„åˆã€‚

3. tftpæ— æ³•è‡ªåŠ¨ä»æœåŠ¡å™¨åŠ è½½è®¾å¤‡æ ‘æ–‡ä»¶

   å¯ä»¥è‡ªåŠ¨ä¸‹è½½zImageï¼Œä½†æ— æ³•ä¸‹è½½imx6ull-14x14-emmc-7-1024x600-c.dtb
   ç»æ£€æŸ¥å‘ç°é—®é¢˜å‡ºåœ¨æ–‡ä»¶åä¸Šï¼Œæ›´æ”¹æ–‡ä»¶åä¸ºalienTek.dtbå³å¯

   å®éªŒå‘ç°æ•°å­—å’Œ`-`éƒ½ä¸ä¼šå½±å“è¯»å–ï¼Œä¼°è®¡æ˜¯é•¿åº¦é—®é¢˜ï¼Œä½†æ˜¯æ‰‹åŠ¨ä½¿ç”¨tftpå‘½ä»¤ä¸‹è½½æ˜¯å¯ä»¥çš„ï¼Œæœ‰ç‚¹å¥‡æ€ª